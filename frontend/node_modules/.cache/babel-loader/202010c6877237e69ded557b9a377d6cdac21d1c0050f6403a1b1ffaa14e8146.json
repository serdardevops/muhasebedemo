{"ast":null,"code":"import _objectWithoutProperties from\"/Users/serdarselcuk/Desktop/DevOps/Project/muhasebedemo/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";import _objectSpread from\"/Users/serdarselcuk/Desktop/DevOps/Project/muhasebedemo/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";const _excluded=[\"id\"];import React,{useState,useEffect}from'react';import{useQuery,useMutation,useQueryClient}from'@tanstack/react-query';import{useLocation,useNavigate}from'react-router-dom';import toast from'react-hot-toast';import{PlusIcon,PencilIcon,TrashIcon,MagnifyingGlassIcon,ArrowUpIcon,ArrowDownIcon}from'@heroicons/react/24/outline';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const TransactionsPage=()=>{const location=useLocation();const navigate=useNavigate();const[isModalOpen,setIsModalOpen]=useState(false);const[editingTransaction,setEditingTransaction]=useState(null);const[searchTerm,setSearchTerm]=useState('');const[typeFilter,setTypeFilter]=useState('');const[categoryFilter,setCategoryFilter]=useState('');const[formData,setFormData]=useState({type:'INCOME',amount:0,description:'',category:'',date:new Date().toISOString().split('T')[0],reference:'',notes:''});const queryClient=useQueryClient();// Check URL parameters and open modal if needed\nuseEffect(()=>{const urlParams=new URLSearchParams(location.search);const typeParam=urlParams.get('type');if(typeParam==='income'||typeParam==='expense'){const transactionType=typeParam==='income'?'INCOME':'EXPENSE';setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{type:transactionType}));setIsModalOpen(true);// Clear URL parameters\nnavigate('/transactions',{replace:true});}},[location.search,navigate]);// API functions\nconst fetchTransactions=async()=>{const token=localStorage.getItem('token');const response=await fetch('http://localhost:3001/api/transactions',{headers:{'Authorization':\"Bearer \".concat(token),'Content-Type':'application/json'}});if(!response.ok){throw new Error('İşlemler yüklenirken hata oluştu');}const data=await response.json();return data.data;};const createTransaction=async transactionData=>{const token=localStorage.getItem('token');console.log('Creating transaction:',transactionData);console.log('Token:',token?'exists':'missing');// Ensure date is in ISO format\nconst processedData=_objectSpread(_objectSpread({},transactionData),{},{date:new Date(transactionData.date).toISOString(),amount:Number(transactionData.amount)});console.log('Processed transaction data:',processedData);const response=await fetch('http://localhost:3001/api/transactions',{method:'POST',headers:{'Authorization':\"Bearer \".concat(token),'Content-Type':'application/json'},body:JSON.stringify(processedData)});console.log('Response status:',response.status);if(!response.ok){const errorData=await response.json();console.error('Error response:',errorData);throw new Error(errorData.message||'İşlem oluşturulurken hata oluştu');}const data=await response.json();console.log('Success response:',data);return data.data;};const updateTransaction=async _ref=>{let{id}=_ref,transactionData=_objectWithoutProperties(_ref,_excluded);const token=localStorage.getItem('token');const response=await fetch(\"http://localhost:3001/api/transactions/\".concat(id),{method:'PUT',headers:{'Authorization':\"Bearer \".concat(token),'Content-Type':'application/json'},body:JSON.stringify(transactionData)});if(!response.ok){const errorData=await response.json();throw new Error(errorData.message||'İşlem güncellenirken hata oluştu');}const data=await response.json();return data.data;};const deleteTransaction=async id=>{const token=localStorage.getItem('token');const response=await fetch(\"http://localhost:3001/api/transactions/\".concat(id),{method:'DELETE',headers:{'Authorization':\"Bearer \".concat(token),'Content-Type':'application/json'}});if(!response.ok){const errorData=await response.json();throw new Error(errorData.message||'İşlem silinirken hata oluştu');}};// React Query hooks\nconst{data:transactions=[],isLoading,error}=useQuery({queryKey:['transactions'],queryFn:fetchTransactions});const createMutation=useMutation({mutationFn:createTransaction,onSuccess:data=>{console.log('Transaction created successfully:',data);queryClient.invalidateQueries({queryKey:['transactions']});queryClient.invalidateQueries({queryKey:['dashboard']});toast.success('İşlem başarıyla oluşturuldu');setIsModalOpen(false);resetForm();},onError:error=>{console.error('Transaction creation failed:',error);toast.error(\"Hata: \".concat(error.message));}});const updateMutation=useMutation({mutationFn:updateTransaction,onSuccess:()=>{queryClient.invalidateQueries({queryKey:['transactions']});toast.success('İşlem başarıyla güncellendi');setIsModalOpen(false);setEditingTransaction(null);resetForm();},onError:error=>{toast.error(error.message);}});const deleteMutation=useMutation({mutationFn:deleteTransaction,onSuccess:()=>{queryClient.invalidateQueries({queryKey:['transactions']});toast.success('İşlem başarıyla silindi');},onError:error=>{toast.error(error.message);}});// Form handlers\nconst resetForm=()=>{setFormData({type:'INCOME',amount:0,description:'',category:'',date:new Date().toISOString().split('T')[0],reference:'',notes:''});};const handleSubmit=e=>{e.preventDefault();console.log('Form submitted with data:',formData);if(!formData.description.trim()){toast.error('Açıklama zorunludur');return;}if(!formData.category.trim()){toast.error('Kategori zorunludur');return;}if(formData.amount<=0){toast.error('Tutar 0\\'dan büyük olmalıdır');return;}console.log('Validation passed, submitting...');if(editingTransaction){updateMutation.mutate(_objectSpread(_objectSpread({},formData),{},{id:editingTransaction.id}));}else{createMutation.mutate(formData);}};const handleEdit=transaction=>{setEditingTransaction(transaction);setFormData({type:transaction.type,amount:transaction.amount,description:transaction.description,category:transaction.category,date:transaction.date.split('T')[0],reference:transaction.reference||'',notes:transaction.notes||''});setIsModalOpen(true);};const handleDelete=transaction=>{if(window.confirm(\"\\\"\".concat(transaction.description,\"\\\" i\\u015Flemini silmek istedi\\u011Finizden emin misiniz?\"))){deleteMutation.mutate(transaction.id);}};const openCreateModal=()=>{setEditingTransaction(null);resetForm();setIsModalOpen(true);};// Filter transactions\nconst filteredTransactions=transactions.filter(transaction=>{var _transaction$referenc;const matchesSearch=transaction.description.toLowerCase().includes(searchTerm.toLowerCase())||transaction.category.toLowerCase().includes(searchTerm.toLowerCase())||((_transaction$referenc=transaction.reference)===null||_transaction$referenc===void 0?void 0:_transaction$referenc.toLowerCase().includes(searchTerm.toLowerCase()));const matchesType=!typeFilter||transaction.type===typeFilter;const matchesCategory=!categoryFilter||transaction.category===categoryFilter;return matchesSearch&&matchesType&&matchesCategory;});// Get unique categories\nconst categories=Array.from(new Set(transactions.map(t=>t.category).filter(Boolean)));// Calculate stats\nconst totalIncome=transactions.filter(t=>t.type==='INCOME').reduce((sum,t)=>sum+t.amount,0);const totalExpense=transactions.filter(t=>t.type==='EXPENSE').reduce((sum,t)=>sum+t.amount,0);const netAmount=totalIncome-totalExpense;// Common categories\nconst incomeCategories=['Satış','Hizmet','Faiz','Kira Geliri','Diğer Gelir'];const expenseCategories=['Ofis Giderleri','Kira','Maaş','Elektrik','İnternet','Yakıt','Yemek','Diğer Gider'];if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-50 border border-red-200 rounded-md p-4\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-red-800\",children:[\"Hata: \",error.message]})})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-900\",children:\"\\u0130\\u015Flemler\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Gelir ve gider i\\u015Flemlerini y\\xF6netin\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-4 rounded-lg shadow\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-500\",children:\"Toplam \\u0130\\u015Flem\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-gray-900\",children:transactions.length})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-4 rounded-lg shadow\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-500\",children:\"Toplam Gelir\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-2xl font-bold text-green-600\",children:[\"\\u20BA\",totalIncome.toLocaleString()]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-4 rounded-lg shadow\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-500\",children:\"Toplam Gider\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-2xl font-bold text-red-600\",children:[\"\\u20BA\",totalExpense.toLocaleString()]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-4 rounded-lg shadow\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-500\",children:\"Net Tutar\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-2xl font-bold \".concat(netAmount>=0?'text-green-600':'text-red-600'),children:[\"\\u20BA\",netAmount.toLocaleString()]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6 flex flex-col lg:flex-row gap-4 justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(MagnifyingGlassIcon,{className:\"h-5 w-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\u0130\\u015Flem ara...\",className:\"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value)})]}),/*#__PURE__*/_jsxs(\"select\",{className:\"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",value:typeFilter,onChange:e=>setTypeFilter(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"T\\xFCm T\\xFCrler\"}),/*#__PURE__*/_jsx(\"option\",{value:\"INCOME\",children:\"Gelir\"}),/*#__PURE__*/_jsx(\"option\",{value:\"EXPENSE\",children:\"Gider\"})]}),/*#__PURE__*/_jsxs(\"select\",{className:\"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",value:categoryFilter,onChange:e=>setCategoryFilter(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"T\\xFCm Kategoriler\"}),categories.map(category=>/*#__PURE__*/_jsx(\"option\",{value:category,children:category},category))]})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:openCreateModal,className:\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors\",children:[/*#__PURE__*/_jsx(PlusIcon,{className:\"h-5 w-5\"}),\"Yeni \\u0130\\u015Flem\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow overflow-hidden\",children:isLoading?/*#__PURE__*/_jsxs(\"div\",{className:\"p-8 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-gray-600\",children:\"Y\\xFCkleniyor...\"})]}):filteredTransactions.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"p-8 text-center\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:searchTerm||typeFilter||categoryFilter?'Arama kriterlerine uygun işlem bulunamadı.':'Henüz işlem eklenmemiş.'})}):/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"T\\xFCr\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"A\\xE7\\u0131klama\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Kategori\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Tarih\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Tutar\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Referans\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"\\u0130\\u015Flemler\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-200\",children:filteredTransactions.map(transaction=>/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[transaction.type==='INCOME'?/*#__PURE__*/_jsx(ArrowUpIcon,{className:\"h-5 w-5 text-green-500 mr-2\"}):/*#__PURE__*/_jsx(ArrowDownIcon,{className:\"h-5 w-5 text-red-500 mr-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium \".concat(transaction.type==='INCOME'?'text-green-600':'text-red-600'),children:transaction.type==='INCOME'?'Gelir':'Gider'})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-900\",children:transaction.description}),transaction.notes&&/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500\",children:transaction.notes})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",children:transaction.category}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",children:new Date(transaction.date).toLocaleDateString('tr-TR')}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm font-medium \".concat(transaction.type==='INCOME'?'text-green-600':'text-red-600'),children:[transaction.type==='INCOME'?'+':'-',\"\\u20BA\",transaction.amount.toLocaleString()]})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",children:transaction.reference||'-'}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEdit(transaction),className:\"text-blue-600 hover:text-blue-900 p-1\",title:\"D\\xFCzenle\",children:/*#__PURE__*/_jsx(PencilIcon,{className:\"h-4 w-4\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete(transaction),className:\"text-red-600 hover:text-red-900 p-1\",title:\"Sil\",children:/*#__PURE__*/_jsx(TrashIcon,{className:\"h-4 w-4\"})})]})})]},transaction.id))})]})})}),isModalOpen&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg max-w-md w-full max-h-[90vh] overflow-y-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold mb-4\",children:editingTransaction?'İşlem Düzenle':'Yeni İşlem'}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"\\u0130\\u015Flem T\\xFCr\\xFC *\"}),/*#__PURE__*/_jsxs(\"select\",{required:true,className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",value:formData.type,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{type:e.target.value})),children:[/*#__PURE__*/_jsx(\"option\",{value:\"INCOME\",children:\"Gelir\"}),/*#__PURE__*/_jsx(\"option\",{value:\"EXPENSE\",children:\"Gider\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"A\\xE7\\u0131klama *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",required:true,className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",value:formData.description,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{description:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Kategori *\"}),/*#__PURE__*/_jsxs(\"select\",{required:true,className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",value:formData.category,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{category:e.target.value})),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Kategori se\\xE7in\"}),(formData.type==='INCOME'?incomeCategories:expenseCategories).map(category=>/*#__PURE__*/_jsx(\"option\",{value:category,children:category},category))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Tutar (\\u20BA) *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"0.01\",step:\"0.01\",required:true,className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",value:formData.amount,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{amount:parseFloat(e.target.value)||0}))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Tarih *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",required:true,className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",value:formData.date,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{date:e.target.value}))})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Referans\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",value:formData.reference,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{reference:e.target.value})),placeholder:\"Fatura no, \\xE7ek no, vb.\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Notlar\"}),/*#__PURE__*/_jsx(\"textarea\",{rows:3,className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",value:formData.notes,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{notes:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3 pt-4\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:createMutation.isPending||updateMutation.isPending,className:\"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-colors\",children:createMutation.isPending||updateMutation.isPending?'Kaydediliyor...':'Kaydet'}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>{setIsModalOpen(false);setEditingTransaction(null);resetForm();},className:\"flex-1 bg-gray-300 hover:bg-gray-400 text-gray-700 py-2 px-4 rounded-lg transition-colors\",children:\"\\u0130ptal\"})]})]})]})})})]});};export default TransactionsPage;","map":{"version":3,"names":["React","useState","useEffect","useQuery","useMutation","useQueryClient","useLocation","useNavigate","toast","PlusIcon","PencilIcon","TrashIcon","MagnifyingGlassIcon","ArrowUpIcon","ArrowDownIcon","jsxs","_jsxs","jsx","_jsx","TransactionsPage","location","navigate","isModalOpen","setIsModalOpen","editingTransaction","setEditingTransaction","searchTerm","setSearchTerm","typeFilter","setTypeFilter","categoryFilter","setCategoryFilter","formData","setFormData","type","amount","description","category","date","Date","toISOString","split","reference","notes","queryClient","urlParams","URLSearchParams","search","typeParam","get","transactionType","prev","_objectSpread","replace","fetchTransactions","token","localStorage","getItem","response","fetch","headers","concat","ok","Error","data","json","createTransaction","transactionData","console","log","processedData","Number","method","body","JSON","stringify","status","errorData","error","message","updateTransaction","_ref","id","_objectWithoutProperties","_excluded","deleteTransaction","transactions","isLoading","queryKey","queryFn","createMutation","mutationFn","onSuccess","invalidateQueries","success","resetForm","onError","updateMutation","deleteMutation","handleSubmit","e","preventDefault","trim","mutate","handleEdit","transaction","handleDelete","window","confirm","openCreateModal","filteredTransactions","filter","_transaction$referenc","matchesSearch","toLowerCase","includes","matchesType","matchesCategory","categories","Array","from","Set","map","t","Boolean","totalIncome","reduce","sum","totalExpense","netAmount","incomeCategories","expenseCategories","className","children","length","toLocaleString","placeholder","value","onChange","target","onClick","toLocaleDateString","title","onSubmit","required","min","step","parseFloat","rows","disabled","isPending"],"sources":["/Users/serdarselcuk/Desktop/DevOps/Project/muhasebedemo/frontend/src/pages/TransactionsPage.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport toast from 'react-hot-toast';\nimport { PlusIcon, PencilIcon, TrashIcon, MagnifyingGlassIcon, ArrowUpIcon, ArrowDownIcon } from '@heroicons/react/24/outline';\n\ninterface Transaction {\n  id: string;\n  type: 'INCOME' | 'EXPENSE';\n  amount: number;\n  description: string;\n  category: string;\n  date: string;\n  reference?: string;\n  notes?: string;\n  createdAt: string;\n  updatedAt: string;\n}\n\ninterface TransactionFormData {\n  type: 'INCOME' | 'EXPENSE';\n  amount: number;\n  description: string;\n  category: string;\n  date: string;\n  reference: string;\n  notes: string;\n}\n\nconst TransactionsPage: React.FC = () => {\n  const location = useLocation();\n  const navigate = useNavigate();\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [editingTransaction, setEditingTransaction] = useState<Transaction | null>(null);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [typeFilter, setTypeFilter] = useState('');\n  const [categoryFilter, setCategoryFilter] = useState('');\n  const [formData, setFormData] = useState<TransactionFormData>({\n    type: 'INCOME',\n    amount: 0,\n    description: '',\n    category: '',\n    date: new Date().toISOString().split('T')[0],\n    reference: '',\n    notes: '',\n  });\n\n  const queryClient = useQueryClient();\n\n  // Check URL parameters and open modal if needed\n  useEffect(() => {\n    const urlParams = new URLSearchParams(location.search);\n    const typeParam = urlParams.get('type');\n    \n    if (typeParam === 'income' || typeParam === 'expense') {\n      const transactionType = typeParam === 'income' ? 'INCOME' : 'EXPENSE';\n      setFormData(prev => ({ ...prev, type: transactionType }));\n      setIsModalOpen(true);\n      // Clear URL parameters\n      navigate('/transactions', { replace: true });\n    }\n  }, [location.search, navigate]);\n\n  // API functions\n  const fetchTransactions = async (): Promise<Transaction[]> => {\n    const token = localStorage.getItem('token');\n    const response = await fetch('http://localhost:3001/api/transactions', {\n      headers: {\n        'Authorization': `Bearer ${token}`,\n        'Content-Type': 'application/json',\n      },\n    });\n    \n    if (!response.ok) {\n      throw new Error('İşlemler yüklenirken hata oluştu');\n    }\n    \n    const data = await response.json();\n    return data.data;\n  };\n\n  const createTransaction = async (transactionData: TransactionFormData): Promise<Transaction> => {\n    const token = localStorage.getItem('token');\n    console.log('Creating transaction:', transactionData);\n    console.log('Token:', token ? 'exists' : 'missing');\n    \n    // Ensure date is in ISO format\n    const processedData = {\n      ...transactionData,\n      date: new Date(transactionData.date).toISOString(),\n      amount: Number(transactionData.amount)\n    };\n    \n    console.log('Processed transaction data:', processedData);\n    \n    const response = await fetch('http://localhost:3001/api/transactions', {\n      method: 'POST',\n      headers: {\n        'Authorization': `Bearer ${token}`,\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(processedData),\n    });\n    \n    console.log('Response status:', response.status);\n    \n    if (!response.ok) {\n      const errorData = await response.json();\n      console.error('Error response:', errorData);\n      throw new Error(errorData.message || 'İşlem oluşturulurken hata oluştu');\n    }\n    \n    const data = await response.json();\n    console.log('Success response:', data);\n    return data.data;\n  };\n\n  const updateTransaction = async ({ id, ...transactionData }: TransactionFormData & { id: string }): Promise<Transaction> => {\n    const token = localStorage.getItem('token');\n    const response = await fetch(`http://localhost:3001/api/transactions/${id}`, {\n      method: 'PUT',\n      headers: {\n        'Authorization': `Bearer ${token}`,\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(transactionData),\n    });\n    \n    if (!response.ok) {\n      const errorData = await response.json();\n      throw new Error(errorData.message || 'İşlem güncellenirken hata oluştu');\n    }\n    \n    const data = await response.json();\n    return data.data;\n  };\n\n  const deleteTransaction = async (id: string): Promise<void> => {\n    const token = localStorage.getItem('token');\n    const response = await fetch(`http://localhost:3001/api/transactions/${id}`, {\n      method: 'DELETE',\n      headers: {\n        'Authorization': `Bearer ${token}`,\n        'Content-Type': 'application/json',\n      },\n    });\n    \n    if (!response.ok) {\n      const errorData = await response.json();\n      throw new Error(errorData.message || 'İşlem silinirken hata oluştu');\n    }\n  };\n\n  // React Query hooks\n  const { data: transactions = [], isLoading, error } = useQuery({\n    queryKey: ['transactions'],\n    queryFn: fetchTransactions,\n  });\n\n  const createMutation = useMutation({\n    mutationFn: createTransaction,\n    onSuccess: (data) => {\n      console.log('Transaction created successfully:', data);\n      queryClient.invalidateQueries({ queryKey: ['transactions'] });\n      queryClient.invalidateQueries({ queryKey: ['dashboard'] });\n      toast.success('İşlem başarıyla oluşturuldu');\n      setIsModalOpen(false);\n      resetForm();\n    },\n    onError: (error: Error) => {\n      console.error('Transaction creation failed:', error);\n      toast.error(`Hata: ${error.message}`);\n    },\n  });\n\n  const updateMutation = useMutation({\n    mutationFn: updateTransaction,\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['transactions'] });\n      toast.success('İşlem başarıyla güncellendi');\n      setIsModalOpen(false);\n      setEditingTransaction(null);\n      resetForm();\n    },\n    onError: (error: Error) => {\n      toast.error(error.message);\n    },\n  });\n\n  const deleteMutation = useMutation({\n    mutationFn: deleteTransaction,\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['transactions'] });\n      toast.success('İşlem başarıyla silindi');\n    },\n    onError: (error: Error) => {\n      toast.error(error.message);\n    },\n  });\n\n  // Form handlers\n  const resetForm = () => {\n    setFormData({\n      type: 'INCOME',\n      amount: 0,\n      description: '',\n      category: '',\n      date: new Date().toISOString().split('T')[0],\n      reference: '',\n      notes: '',\n    });\n  };\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    console.log('Form submitted with data:', formData);\n    \n    if (!formData.description.trim()) {\n      toast.error('Açıklama zorunludur');\n      return;\n    }\n\n    if (!formData.category.trim()) {\n      toast.error('Kategori zorunludur');\n      return;\n    }\n\n    if (formData.amount <= 0) {\n      toast.error('Tutar 0\\'dan büyük olmalıdır');\n      return;\n    }\n\n    console.log('Validation passed, submitting...');\n\n    if (editingTransaction) {\n      updateMutation.mutate({ ...formData, id: editingTransaction.id });\n    } else {\n      createMutation.mutate(formData);\n    }\n  };\n\n  const handleEdit = (transaction: Transaction) => {\n    setEditingTransaction(transaction);\n    setFormData({\n      type: transaction.type,\n      amount: transaction.amount,\n      description: transaction.description,\n      category: transaction.category,\n      date: transaction.date.split('T')[0],\n      reference: transaction.reference || '',\n      notes: transaction.notes || '',\n    });\n    setIsModalOpen(true);\n  };\n\n  const handleDelete = (transaction: Transaction) => {\n    if (window.confirm(`\"${transaction.description}\" işlemini silmek istediğinizden emin misiniz?`)) {\n      deleteMutation.mutate(transaction.id);\n    }\n  };\n\n  const openCreateModal = () => {\n    setEditingTransaction(null);\n    resetForm();\n    setIsModalOpen(true);\n  };\n\n  // Filter transactions\n  const filteredTransactions = transactions.filter(transaction => {\n    const matchesSearch = transaction.description.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                         transaction.category.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                         transaction.reference?.toLowerCase().includes(searchTerm.toLowerCase());\n    \n    const matchesType = !typeFilter || transaction.type === typeFilter;\n    const matchesCategory = !categoryFilter || transaction.category === categoryFilter;\n    \n    return matchesSearch && matchesType && matchesCategory;\n  });\n\n  // Get unique categories\n  const categories = Array.from(new Set(transactions.map(t => t.category).filter(Boolean)));\n\n  // Calculate stats\n  const totalIncome = transactions.filter(t => t.type === 'INCOME').reduce((sum, t) => sum + t.amount, 0);\n  const totalExpense = transactions.filter(t => t.type === 'EXPENSE').reduce((sum, t) => sum + t.amount, 0);\n  const netAmount = totalIncome - totalExpense;\n\n  // Common categories\n  const incomeCategories = ['Satış', 'Hizmet', 'Faiz', 'Kira Geliri', 'Diğer Gelir'];\n  const expenseCategories = ['Ofis Giderleri', 'Kira', 'Maaş', 'Elektrik', 'İnternet', 'Yakıt', 'Yemek', 'Diğer Gider'];\n\n  if (error) {\n    return (\n      <div className=\"p-6\">\n        <div className=\"bg-red-50 border border-red-200 rounded-md p-4\">\n          <p className=\"text-red-800\">Hata: {(error as Error).message}</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"p-6\">\n      {/* Header */}\n      <div className=\"mb-6\">\n        <h1 className=\"text-2xl font-bold text-gray-900\">İşlemler</h1>\n        <p className=\"text-gray-600\">Gelir ve gider işlemlerini yönetin</p>\n      </div>\n\n      {/* Stats */}\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6\">\n        <div className=\"bg-white p-4 rounded-lg shadow\">\n          <div className=\"text-sm font-medium text-gray-500\">Toplam İşlem</div>\n          <div className=\"text-2xl font-bold text-gray-900\">{transactions.length}</div>\n        </div>\n        <div className=\"bg-white p-4 rounded-lg shadow\">\n          <div className=\"text-sm font-medium text-gray-500\">Toplam Gelir</div>\n          <div className=\"text-2xl font-bold text-green-600\">₺{totalIncome.toLocaleString()}</div>\n        </div>\n        <div className=\"bg-white p-4 rounded-lg shadow\">\n          <div className=\"text-sm font-medium text-gray-500\">Toplam Gider</div>\n          <div className=\"text-2xl font-bold text-red-600\">₺{totalExpense.toLocaleString()}</div>\n        </div>\n        <div className=\"bg-white p-4 rounded-lg shadow\">\n          <div className=\"text-sm font-medium text-gray-500\">Net Tutar</div>\n          <div className={`text-2xl font-bold ${netAmount >= 0 ? 'text-green-600' : 'text-red-600'}`}>\n            ₺{netAmount.toLocaleString()}\n          </div>\n        </div>\n      </div>\n\n      {/* Actions Bar */}\n      <div className=\"mb-6 flex flex-col lg:flex-row gap-4 justify-between\">\n        <div className=\"flex flex-col sm:flex-row gap-4\">\n          <div className=\"relative\">\n            <MagnifyingGlassIcon className=\"h-5 w-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\" />\n            <input\n              type=\"text\"\n              placeholder=\"İşlem ara...\"\n              className=\"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n            />\n          </div>\n          \n          <select\n            className=\"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n            value={typeFilter}\n            onChange={(e) => setTypeFilter(e.target.value)}\n          >\n            <option value=\"\">Tüm Türler</option>\n            <option value=\"INCOME\">Gelir</option>\n            <option value=\"EXPENSE\">Gider</option>\n          </select>\n\n          <select\n            className=\"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n            value={categoryFilter}\n            onChange={(e) => setCategoryFilter(e.target.value)}\n          >\n            <option value=\"\">Tüm Kategoriler</option>\n            {categories.map(category => (\n              <option key={category} value={category}>{category}</option>\n            ))}\n          </select>\n        </div>\n\n        <button\n          onClick={openCreateModal}\n          className=\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors\"\n        >\n          <PlusIcon className=\"h-5 w-5\" />\n          Yeni İşlem\n        </button>\n      </div>\n\n      {/* Transactions Table */}\n      <div className=\"bg-white rounded-lg shadow overflow-hidden\">\n        {isLoading ? (\n          <div className=\"p-8 text-center\">\n            <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto\"></div>\n            <p className=\"mt-2 text-gray-600\">Yükleniyor...</p>\n          </div>\n        ) : filteredTransactions.length === 0 ? (\n          <div className=\"p-8 text-center\">\n            <p className=\"text-gray-500\">\n              {searchTerm || typeFilter || categoryFilter \n                ? 'Arama kriterlerine uygun işlem bulunamadı.' \n                : 'Henüz işlem eklenmemiş.'}\n            </p>\n          </div>\n        ) : (\n          <div className=\"overflow-x-auto\">\n            <table className=\"min-w-full divide-y divide-gray-200\">\n              <thead className=\"bg-gray-50\">\n                <tr>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Tür\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Açıklama\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Kategori\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Tarih\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Tutar\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Referans\n                  </th>\n                  <th className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    İşlemler\n                  </th>\n                </tr>\n              </thead>\n              <tbody className=\"bg-white divide-y divide-gray-200\">\n                {filteredTransactions.map((transaction) => (\n                  <tr key={transaction.id} className=\"hover:bg-gray-50\">\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <div className=\"flex items-center\">\n                        {transaction.type === 'INCOME' ? (\n                          <ArrowUpIcon className=\"h-5 w-5 text-green-500 mr-2\" />\n                        ) : (\n                          <ArrowDownIcon className=\"h-5 w-5 text-red-500 mr-2\" />\n                        )}\n                        <span className={`text-sm font-medium ${\n                          transaction.type === 'INCOME' ? 'text-green-600' : 'text-red-600'\n                        }`}>\n                          {transaction.type === 'INCOME' ? 'Gelir' : 'Gider'}\n                        </span>\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <div>\n                        <div className=\"text-sm font-medium text-gray-900\">{transaction.description}</div>\n                        {transaction.notes && (\n                          <div className=\"text-sm text-gray-500\">{transaction.notes}</div>\n                        )}\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                      {transaction.category}\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                      {new Date(transaction.date).toLocaleDateString('tr-TR')}\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <span className={`text-sm font-medium ${\n                        transaction.type === 'INCOME' ? 'text-green-600' : 'text-red-600'\n                      }`}>\n                        {transaction.type === 'INCOME' ? '+' : '-'}₺{transaction.amount.toLocaleString()}\n                      </span>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                      {transaction.reference || '-'}\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\">\n                      <div className=\"flex justify-end gap-2\">\n                        <button\n                          onClick={() => handleEdit(transaction)}\n                          className=\"text-blue-600 hover:text-blue-900 p-1\"\n                          title=\"Düzenle\"\n                        >\n                          <PencilIcon className=\"h-4 w-4\" />\n                        </button>\n                        <button\n                          onClick={() => handleDelete(transaction)}\n                          className=\"text-red-600 hover:text-red-900 p-1\"\n                          title=\"Sil\"\n                        >\n                          <TrashIcon className=\"h-4 w-4\" />\n                        </button>\n                      </div>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        )}\n      </div>\n\n      {/* Modal */}\n      {isModalOpen && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\n          <div className=\"bg-white rounded-lg max-w-md w-full max-h-[90vh] overflow-y-auto\">\n            <div className=\"p-6\">\n              <h2 className=\"text-lg font-semibold mb-4\">\n                {editingTransaction ? 'İşlem Düzenle' : 'Yeni İşlem'}\n              </h2>\n              \n              <form onSubmit={handleSubmit} className=\"space-y-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    İşlem Türü *\n                  </label>\n                  <select\n                    required\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                    value={formData.type}\n                    onChange={(e) => setFormData({ ...formData, type: e.target.value as 'INCOME' | 'EXPENSE' })}\n                  >\n                    <option value=\"INCOME\">Gelir</option>\n                    <option value=\"EXPENSE\">Gider</option>\n                  </select>\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Açıklama *\n                  </label>\n                  <input\n                    type=\"text\"\n                    required\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                    value={formData.description}\n                    onChange={(e) => setFormData({ ...formData, description: e.target.value })}\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Kategori *\n                  </label>\n                  <select\n                    required\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                    value={formData.category}\n                    onChange={(e) => setFormData({ ...formData, category: e.target.value })}\n                  >\n                    <option value=\"\">Kategori seçin</option>\n                    {(formData.type === 'INCOME' ? incomeCategories : expenseCategories).map(category => (\n                      <option key={category} value={category}>{category}</option>\n                    ))}\n                  </select>\n                </div>\n\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                      Tutar (₺) *\n                    </label>\n                    <input\n                      type=\"number\"\n                      min=\"0.01\"\n                      step=\"0.01\"\n                      required\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                      value={formData.amount}\n                      onChange={(e) => setFormData({ ...formData, amount: parseFloat(e.target.value) || 0 })}\n                    />\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                      Tarih *\n                    </label>\n                    <input\n                      type=\"date\"\n                      required\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                      value={formData.date}\n                      onChange={(e) => setFormData({ ...formData, date: e.target.value })}\n                    />\n                  </div>\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Referans\n                  </label>\n                  <input\n                    type=\"text\"\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                    value={formData.reference}\n                    onChange={(e) => setFormData({ ...formData, reference: e.target.value })}\n                    placeholder=\"Fatura no, çek no, vb.\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Notlar\n                  </label>\n                  <textarea\n                    rows={3}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                    value={formData.notes}\n                    onChange={(e) => setFormData({ ...formData, notes: e.target.value })}\n                  />\n                </div>\n\n                <div className=\"flex gap-3 pt-4\">\n                  <button\n                    type=\"submit\"\n                    disabled={createMutation.isPending || updateMutation.isPending}\n                    className=\"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n                  >\n                    {createMutation.isPending || updateMutation.isPending ? 'Kaydediliyor...' : 'Kaydet'}\n                  </button>\n                  <button\n                    type=\"button\"\n                    onClick={() => {\n                      setIsModalOpen(false);\n                      setEditingTransaction(null);\n                      resetForm();\n                    }}\n                    className=\"flex-1 bg-gray-300 hover:bg-gray-400 text-gray-700 py-2 px-4 rounded-lg transition-colors\"\n                  >\n                    İptal\n                  </button>\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default TransactionsPage; "],"mappings":"oUAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,QAAQ,CAAEC,WAAW,CAAEC,cAAc,KAAQ,uBAAuB,CAC7E,OAASC,WAAW,CAAEC,WAAW,KAAQ,kBAAkB,CAC3D,MAAO,CAAAC,KAAK,KAAM,iBAAiB,CACnC,OAASC,QAAQ,CAAEC,UAAU,CAAEC,SAAS,CAAEC,mBAAmB,CAAEC,WAAW,CAAEC,aAAa,KAAQ,6BAA6B,CAAC,OAAAC,IAAA,IAAAC,KAAA,CAAAC,GAAA,IAAAC,IAAA,yBAyB/H,KAAM,CAAAC,gBAA0B,CAAGA,CAAA,GAAM,CACvC,KAAM,CAAAC,QAAQ,CAAGd,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAe,QAAQ,CAAGd,WAAW,CAAC,CAAC,CAC9B,KAAM,CAACe,WAAW,CAAEC,cAAc,CAAC,CAAGtB,QAAQ,CAAC,KAAK,CAAC,CACrD,KAAM,CAACuB,kBAAkB,CAAEC,qBAAqB,CAAC,CAAGxB,QAAQ,CAAqB,IAAI,CAAC,CACtF,KAAM,CAACyB,UAAU,CAAEC,aAAa,CAAC,CAAG1B,QAAQ,CAAC,EAAE,CAAC,CAChD,KAAM,CAAC2B,UAAU,CAAEC,aAAa,CAAC,CAAG5B,QAAQ,CAAC,EAAE,CAAC,CAChD,KAAM,CAAC6B,cAAc,CAAEC,iBAAiB,CAAC,CAAG9B,QAAQ,CAAC,EAAE,CAAC,CACxD,KAAM,CAAC+B,QAAQ,CAAEC,WAAW,CAAC,CAAGhC,QAAQ,CAAsB,CAC5DiC,IAAI,CAAE,QAAQ,CACdC,MAAM,CAAE,CAAC,CACTC,WAAW,CAAE,EAAE,CACfC,QAAQ,CAAE,EAAE,CACZC,IAAI,CAAE,GAAI,CAAAC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAC5CC,SAAS,CAAE,EAAE,CACbC,KAAK,CAAE,EACT,CAAC,CAAC,CAEF,KAAM,CAAAC,WAAW,CAAGvC,cAAc,CAAC,CAAC,CAEpC;AACAH,SAAS,CAAC,IAAM,CACd,KAAM,CAAA2C,SAAS,CAAG,GAAI,CAAAC,eAAe,CAAC1B,QAAQ,CAAC2B,MAAM,CAAC,CACtD,KAAM,CAAAC,SAAS,CAAGH,SAAS,CAACI,GAAG,CAAC,MAAM,CAAC,CAEvC,GAAID,SAAS,GAAK,QAAQ,EAAIA,SAAS,GAAK,SAAS,CAAE,CACrD,KAAM,CAAAE,eAAe,CAAGF,SAAS,GAAK,QAAQ,CAAG,QAAQ,CAAG,SAAS,CACrEf,WAAW,CAACkB,IAAI,EAAAC,aAAA,CAAAA,aAAA,IAAUD,IAAI,MAAEjB,IAAI,CAAEgB,eAAe,EAAG,CAAC,CACzD3B,cAAc,CAAC,IAAI,CAAC,CACpB;AACAF,QAAQ,CAAC,eAAe,CAAE,CAAEgC,OAAO,CAAE,IAAK,CAAC,CAAC,CAC9C,CACF,CAAC,CAAE,CAACjC,QAAQ,CAAC2B,MAAM,CAAE1B,QAAQ,CAAC,CAAC,CAE/B;AACA,KAAM,CAAAiC,iBAAiB,CAAG,KAAAA,CAAA,GAAoC,CAC5D,KAAM,CAAAC,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,wCAAwC,CAAE,CACrEC,OAAO,CAAE,CACP,eAAe,WAAAC,MAAA,CAAYN,KAAK,CAAE,CAClC,cAAc,CAAE,kBAClB,CACF,CAAC,CAAC,CAEF,GAAI,CAACG,QAAQ,CAACI,EAAE,CAAE,CAChB,KAAM,IAAI,CAAAC,KAAK,CAAC,kCAAkC,CAAC,CACrD,CAEA,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAN,QAAQ,CAACO,IAAI,CAAC,CAAC,CAClC,MAAO,CAAAD,IAAI,CAACA,IAAI,CAClB,CAAC,CAED,KAAM,CAAAE,iBAAiB,CAAG,KAAO,CAAAC,eAAoC,EAA2B,CAC9F,KAAM,CAAAZ,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3CW,OAAO,CAACC,GAAG,CAAC,uBAAuB,CAAEF,eAAe,CAAC,CACrDC,OAAO,CAACC,GAAG,CAAC,QAAQ,CAAEd,KAAK,CAAG,QAAQ,CAAG,SAAS,CAAC,CAEnD;AACA,KAAM,CAAAe,aAAa,CAAAlB,aAAA,CAAAA,aAAA,IACde,eAAe,MAClB7B,IAAI,CAAE,GAAI,CAAAC,IAAI,CAAC4B,eAAe,CAAC7B,IAAI,CAAC,CAACE,WAAW,CAAC,CAAC,CAClDL,MAAM,CAAEoC,MAAM,CAACJ,eAAe,CAAChC,MAAM,CAAC,EACvC,CAEDiC,OAAO,CAACC,GAAG,CAAC,6BAA6B,CAAEC,aAAa,CAAC,CAEzD,KAAM,CAAAZ,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,wCAAwC,CAAE,CACrEa,MAAM,CAAE,MAAM,CACdZ,OAAO,CAAE,CACP,eAAe,WAAAC,MAAA,CAAYN,KAAK,CAAE,CAClC,cAAc,CAAE,kBAClB,CAAC,CACDkB,IAAI,CAAEC,IAAI,CAACC,SAAS,CAACL,aAAa,CACpC,CAAC,CAAC,CAEFF,OAAO,CAACC,GAAG,CAAC,kBAAkB,CAAEX,QAAQ,CAACkB,MAAM,CAAC,CAEhD,GAAI,CAAClB,QAAQ,CAACI,EAAE,CAAE,CAChB,KAAM,CAAAe,SAAS,CAAG,KAAM,CAAAnB,QAAQ,CAACO,IAAI,CAAC,CAAC,CACvCG,OAAO,CAACU,KAAK,CAAC,iBAAiB,CAAED,SAAS,CAAC,CAC3C,KAAM,IAAI,CAAAd,KAAK,CAACc,SAAS,CAACE,OAAO,EAAI,kCAAkC,CAAC,CAC1E,CAEA,KAAM,CAAAf,IAAI,CAAG,KAAM,CAAAN,QAAQ,CAACO,IAAI,CAAC,CAAC,CAClCG,OAAO,CAACC,GAAG,CAAC,mBAAmB,CAAEL,IAAI,CAAC,CACtC,MAAO,CAAAA,IAAI,CAACA,IAAI,CAClB,CAAC,CAED,KAAM,CAAAgB,iBAAiB,CAAG,MAAAC,IAAA,EAAkG,IAA3F,CAAEC,EAA6D,CAAC,CAAAD,IAAA,CAAvDd,eAAe,CAAAgB,wBAAA,CAAAF,IAAA,CAAAG,SAAA,EACvD,KAAM,CAAA7B,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,2CAAAE,MAAA,CAA2CqB,EAAE,EAAI,CAC3EV,MAAM,CAAE,KAAK,CACbZ,OAAO,CAAE,CACP,eAAe,WAAAC,MAAA,CAAYN,KAAK,CAAE,CAClC,cAAc,CAAE,kBAClB,CAAC,CACDkB,IAAI,CAAEC,IAAI,CAACC,SAAS,CAACR,eAAe,CACtC,CAAC,CAAC,CAEF,GAAI,CAACT,QAAQ,CAACI,EAAE,CAAE,CAChB,KAAM,CAAAe,SAAS,CAAG,KAAM,CAAAnB,QAAQ,CAACO,IAAI,CAAC,CAAC,CACvC,KAAM,IAAI,CAAAF,KAAK,CAACc,SAAS,CAACE,OAAO,EAAI,kCAAkC,CAAC,CAC1E,CAEA,KAAM,CAAAf,IAAI,CAAG,KAAM,CAAAN,QAAQ,CAACO,IAAI,CAAC,CAAC,CAClC,MAAO,CAAAD,IAAI,CAACA,IAAI,CAClB,CAAC,CAED,KAAM,CAAAqB,iBAAiB,CAAG,KAAO,CAAAH,EAAU,EAAoB,CAC7D,KAAM,CAAA3B,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,2CAAAE,MAAA,CAA2CqB,EAAE,EAAI,CAC3EV,MAAM,CAAE,QAAQ,CAChBZ,OAAO,CAAE,CACP,eAAe,WAAAC,MAAA,CAAYN,KAAK,CAAE,CAClC,cAAc,CAAE,kBAClB,CACF,CAAC,CAAC,CAEF,GAAI,CAACG,QAAQ,CAACI,EAAE,CAAE,CAChB,KAAM,CAAAe,SAAS,CAAG,KAAM,CAAAnB,QAAQ,CAACO,IAAI,CAAC,CAAC,CACvC,KAAM,IAAI,CAAAF,KAAK,CAACc,SAAS,CAACE,OAAO,EAAI,8BAA8B,CAAC,CACtE,CACF,CAAC,CAED;AACA,KAAM,CAAEf,IAAI,CAAEsB,YAAY,CAAG,EAAE,CAAEC,SAAS,CAAET,KAAM,CAAC,CAAG3E,QAAQ,CAAC,CAC7DqF,QAAQ,CAAE,CAAC,cAAc,CAAC,CAC1BC,OAAO,CAAEnC,iBACX,CAAC,CAAC,CAEF,KAAM,CAAAoC,cAAc,CAAGtF,WAAW,CAAC,CACjCuF,UAAU,CAAEzB,iBAAiB,CAC7B0B,SAAS,CAAG5B,IAAI,EAAK,CACnBI,OAAO,CAACC,GAAG,CAAC,mCAAmC,CAAEL,IAAI,CAAC,CACtDpB,WAAW,CAACiD,iBAAiB,CAAC,CAAEL,QAAQ,CAAE,CAAC,cAAc,CAAE,CAAC,CAAC,CAC7D5C,WAAW,CAACiD,iBAAiB,CAAC,CAAEL,QAAQ,CAAE,CAAC,WAAW,CAAE,CAAC,CAAC,CAC1DhF,KAAK,CAACsF,OAAO,CAAC,6BAA6B,CAAC,CAC5CvE,cAAc,CAAC,KAAK,CAAC,CACrBwE,SAAS,CAAC,CAAC,CACb,CAAC,CACDC,OAAO,CAAGlB,KAAY,EAAK,CACzBV,OAAO,CAACU,KAAK,CAAC,8BAA8B,CAAEA,KAAK,CAAC,CACpDtE,KAAK,CAACsE,KAAK,UAAAjB,MAAA,CAAUiB,KAAK,CAACC,OAAO,CAAE,CAAC,CACvC,CACF,CAAC,CAAC,CAEF,KAAM,CAAAkB,cAAc,CAAG7F,WAAW,CAAC,CACjCuF,UAAU,CAAEX,iBAAiB,CAC7BY,SAAS,CAAEA,CAAA,GAAM,CACfhD,WAAW,CAACiD,iBAAiB,CAAC,CAAEL,QAAQ,CAAE,CAAC,cAAc,CAAE,CAAC,CAAC,CAC7DhF,KAAK,CAACsF,OAAO,CAAC,6BAA6B,CAAC,CAC5CvE,cAAc,CAAC,KAAK,CAAC,CACrBE,qBAAqB,CAAC,IAAI,CAAC,CAC3BsE,SAAS,CAAC,CAAC,CACb,CAAC,CACDC,OAAO,CAAGlB,KAAY,EAAK,CACzBtE,KAAK,CAACsE,KAAK,CAACA,KAAK,CAACC,OAAO,CAAC,CAC5B,CACF,CAAC,CAAC,CAEF,KAAM,CAAAmB,cAAc,CAAG9F,WAAW,CAAC,CACjCuF,UAAU,CAAEN,iBAAiB,CAC7BO,SAAS,CAAEA,CAAA,GAAM,CACfhD,WAAW,CAACiD,iBAAiB,CAAC,CAAEL,QAAQ,CAAE,CAAC,cAAc,CAAE,CAAC,CAAC,CAC7DhF,KAAK,CAACsF,OAAO,CAAC,yBAAyB,CAAC,CAC1C,CAAC,CACDE,OAAO,CAAGlB,KAAY,EAAK,CACzBtE,KAAK,CAACsE,KAAK,CAACA,KAAK,CAACC,OAAO,CAAC,CAC5B,CACF,CAAC,CAAC,CAEF;AACA,KAAM,CAAAgB,SAAS,CAAGA,CAAA,GAAM,CACtB9D,WAAW,CAAC,CACVC,IAAI,CAAE,QAAQ,CACdC,MAAM,CAAE,CAAC,CACTC,WAAW,CAAE,EAAE,CACfC,QAAQ,CAAE,EAAE,CACZC,IAAI,CAAE,GAAI,CAAAC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAC5CC,SAAS,CAAE,EAAE,CACbC,KAAK,CAAE,EACT,CAAC,CAAC,CACJ,CAAC,CAED,KAAM,CAAAwD,YAAY,CAAIC,CAAkB,EAAK,CAC3CA,CAAC,CAACC,cAAc,CAAC,CAAC,CAElBjC,OAAO,CAACC,GAAG,CAAC,2BAA2B,CAAErC,QAAQ,CAAC,CAElD,GAAI,CAACA,QAAQ,CAACI,WAAW,CAACkE,IAAI,CAAC,CAAC,CAAE,CAChC9F,KAAK,CAACsE,KAAK,CAAC,qBAAqB,CAAC,CAClC,OACF,CAEA,GAAI,CAAC9C,QAAQ,CAACK,QAAQ,CAACiE,IAAI,CAAC,CAAC,CAAE,CAC7B9F,KAAK,CAACsE,KAAK,CAAC,qBAAqB,CAAC,CAClC,OACF,CAEA,GAAI9C,QAAQ,CAACG,MAAM,EAAI,CAAC,CAAE,CACxB3B,KAAK,CAACsE,KAAK,CAAC,8BAA8B,CAAC,CAC3C,OACF,CAEAV,OAAO,CAACC,GAAG,CAAC,kCAAkC,CAAC,CAE/C,GAAI7C,kBAAkB,CAAE,CACtByE,cAAc,CAACM,MAAM,CAAAnD,aAAA,CAAAA,aAAA,IAAMpB,QAAQ,MAAEkD,EAAE,CAAE1D,kBAAkB,CAAC0D,EAAE,EAAE,CAAC,CACnE,CAAC,IAAM,CACLQ,cAAc,CAACa,MAAM,CAACvE,QAAQ,CAAC,CACjC,CACF,CAAC,CAED,KAAM,CAAAwE,UAAU,CAAIC,WAAwB,EAAK,CAC/ChF,qBAAqB,CAACgF,WAAW,CAAC,CAClCxE,WAAW,CAAC,CACVC,IAAI,CAAEuE,WAAW,CAACvE,IAAI,CACtBC,MAAM,CAAEsE,WAAW,CAACtE,MAAM,CAC1BC,WAAW,CAAEqE,WAAW,CAACrE,WAAW,CACpCC,QAAQ,CAAEoE,WAAW,CAACpE,QAAQ,CAC9BC,IAAI,CAAEmE,WAAW,CAACnE,IAAI,CAACG,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CACpCC,SAAS,CAAE+D,WAAW,CAAC/D,SAAS,EAAI,EAAE,CACtCC,KAAK,CAAE8D,WAAW,CAAC9D,KAAK,EAAI,EAC9B,CAAC,CAAC,CACFpB,cAAc,CAAC,IAAI,CAAC,CACtB,CAAC,CAED,KAAM,CAAAmF,YAAY,CAAID,WAAwB,EAAK,CACjD,GAAIE,MAAM,CAACC,OAAO,MAAA/C,MAAA,CAAK4C,WAAW,CAACrE,WAAW,6DAAgD,CAAC,CAAE,CAC/F8D,cAAc,CAACK,MAAM,CAACE,WAAW,CAACvB,EAAE,CAAC,CACvC,CACF,CAAC,CAED,KAAM,CAAA2B,eAAe,CAAGA,CAAA,GAAM,CAC5BpF,qBAAqB,CAAC,IAAI,CAAC,CAC3BsE,SAAS,CAAC,CAAC,CACXxE,cAAc,CAAC,IAAI,CAAC,CACtB,CAAC,CAED;AACA,KAAM,CAAAuF,oBAAoB,CAAGxB,YAAY,CAACyB,MAAM,CAACN,WAAW,EAAI,KAAAO,qBAAA,CAC9D,KAAM,CAAAC,aAAa,CAAGR,WAAW,CAACrE,WAAW,CAAC8E,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACzF,UAAU,CAACwF,WAAW,CAAC,CAAC,CAAC,EACzET,WAAW,CAACpE,QAAQ,CAAC6E,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACzF,UAAU,CAACwF,WAAW,CAAC,CAAC,CAAC,IAAAF,qBAAA,CACrEP,WAAW,CAAC/D,SAAS,UAAAsE,qBAAA,iBAArBA,qBAAA,CAAuBE,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACzF,UAAU,CAACwF,WAAW,CAAC,CAAC,CAAC,EAE5F,KAAM,CAAAE,WAAW,CAAG,CAACxF,UAAU,EAAI6E,WAAW,CAACvE,IAAI,GAAKN,UAAU,CAClE,KAAM,CAAAyF,eAAe,CAAG,CAACvF,cAAc,EAAI2E,WAAW,CAACpE,QAAQ,GAAKP,cAAc,CAElF,MAAO,CAAAmF,aAAa,EAAIG,WAAW,EAAIC,eAAe,CACxD,CAAC,CAAC,CAEF;AACA,KAAM,CAAAC,UAAU,CAAGC,KAAK,CAACC,IAAI,CAAC,GAAI,CAAAC,GAAG,CAACnC,YAAY,CAACoC,GAAG,CAACC,CAAC,EAAIA,CAAC,CAACtF,QAAQ,CAAC,CAAC0E,MAAM,CAACa,OAAO,CAAC,CAAC,CAAC,CAEzF;AACA,KAAM,CAAAC,WAAW,CAAGvC,YAAY,CAACyB,MAAM,CAACY,CAAC,EAAIA,CAAC,CAACzF,IAAI,GAAK,QAAQ,CAAC,CAAC4F,MAAM,CAAC,CAACC,GAAG,CAAEJ,CAAC,GAAKI,GAAG,CAAGJ,CAAC,CAACxF,MAAM,CAAE,CAAC,CAAC,CACvG,KAAM,CAAA6F,YAAY,CAAG1C,YAAY,CAACyB,MAAM,CAACY,CAAC,EAAIA,CAAC,CAACzF,IAAI,GAAK,SAAS,CAAC,CAAC4F,MAAM,CAAC,CAACC,GAAG,CAAEJ,CAAC,GAAKI,GAAG,CAAGJ,CAAC,CAACxF,MAAM,CAAE,CAAC,CAAC,CACzG,KAAM,CAAA8F,SAAS,CAAGJ,WAAW,CAAGG,YAAY,CAE5C;AACA,KAAM,CAAAE,gBAAgB,CAAG,CAAC,OAAO,CAAE,QAAQ,CAAE,MAAM,CAAE,aAAa,CAAE,aAAa,CAAC,CAClF,KAAM,CAAAC,iBAAiB,CAAG,CAAC,gBAAgB,CAAE,MAAM,CAAE,MAAM,CAAE,UAAU,CAAE,UAAU,CAAE,OAAO,CAAE,OAAO,CAAE,aAAa,CAAC,CAErH,GAAIrD,KAAK,CAAE,CACT,mBACE5D,IAAA,QAAKkH,SAAS,CAAC,KAAK,CAAAC,QAAA,cAClBnH,IAAA,QAAKkH,SAAS,CAAC,gDAAgD,CAAAC,QAAA,cAC7DrH,KAAA,MAAGoH,SAAS,CAAC,cAAc,CAAAC,QAAA,EAAC,QAAM,CAAEvD,KAAK,CAAWC,OAAO,EAAI,CAAC,CAC7D,CAAC,CACH,CAAC,CAEV,CAEA,mBACE/D,KAAA,QAAKoH,SAAS,CAAC,KAAK,CAAAC,QAAA,eAElBrH,KAAA,QAAKoH,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnBnH,IAAA,OAAIkH,SAAS,CAAC,kCAAkC,CAAAC,QAAA,CAAC,oBAAQ,CAAI,CAAC,cAC9DnH,IAAA,MAAGkH,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,4CAAkC,CAAG,CAAC,EAChE,CAAC,cAGNrH,KAAA,QAAKoH,SAAS,CAAC,4CAA4C,CAAAC,QAAA,eACzDrH,KAAA,QAAKoH,SAAS,CAAC,gCAAgC,CAAAC,QAAA,eAC7CnH,IAAA,QAAKkH,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAAC,wBAAY,CAAK,CAAC,cACrEnH,IAAA,QAAKkH,SAAS,CAAC,kCAAkC,CAAAC,QAAA,CAAE/C,YAAY,CAACgD,MAAM,CAAM,CAAC,EAC1E,CAAC,cACNtH,KAAA,QAAKoH,SAAS,CAAC,gCAAgC,CAAAC,QAAA,eAC7CnH,IAAA,QAAKkH,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAAC,cAAY,CAAK,CAAC,cACrErH,KAAA,QAAKoH,SAAS,CAAC,mCAAmC,CAAAC,QAAA,EAAC,QAAC,CAACR,WAAW,CAACU,cAAc,CAAC,CAAC,EAAM,CAAC,EACrF,CAAC,cACNvH,KAAA,QAAKoH,SAAS,CAAC,gCAAgC,CAAAC,QAAA,eAC7CnH,IAAA,QAAKkH,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAAC,cAAY,CAAK,CAAC,cACrErH,KAAA,QAAKoH,SAAS,CAAC,iCAAiC,CAAAC,QAAA,EAAC,QAAC,CAACL,YAAY,CAACO,cAAc,CAAC,CAAC,EAAM,CAAC,EACpF,CAAC,cACNvH,KAAA,QAAKoH,SAAS,CAAC,gCAAgC,CAAAC,QAAA,eAC7CnH,IAAA,QAAKkH,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAAC,WAAS,CAAK,CAAC,cAClErH,KAAA,QAAKoH,SAAS,uBAAAvE,MAAA,CAAwBoE,SAAS,EAAI,CAAC,CAAG,gBAAgB,CAAG,cAAc,CAAG,CAAAI,QAAA,EAAC,QACzF,CAACJ,SAAS,CAACM,cAAc,CAAC,CAAC,EACzB,CAAC,EACH,CAAC,EACH,CAAC,cAGNvH,KAAA,QAAKoH,SAAS,CAAC,sDAAsD,CAAAC,QAAA,eACnErH,KAAA,QAAKoH,SAAS,CAAC,iCAAiC,CAAAC,QAAA,eAC9CrH,KAAA,QAAKoH,SAAS,CAAC,UAAU,CAAAC,QAAA,eACvBnH,IAAA,CAACN,mBAAmB,EAACwH,SAAS,CAAC,0EAA0E,CAAE,CAAC,cAC5GlH,IAAA,UACEgB,IAAI,CAAC,MAAM,CACXsG,WAAW,CAAC,wBAAc,CAC1BJ,SAAS,CAAC,6GAA6G,CACvHK,KAAK,CAAE/G,UAAW,CAClBgH,QAAQ,CAAGtC,CAAC,EAAKzE,aAAa,CAACyE,CAAC,CAACuC,MAAM,CAACF,KAAK,CAAE,CAChD,CAAC,EACC,CAAC,cAENzH,KAAA,WACEoH,SAAS,CAAC,uGAAuG,CACjHK,KAAK,CAAE7G,UAAW,CAClB8G,QAAQ,CAAGtC,CAAC,EAAKvE,aAAa,CAACuE,CAAC,CAACuC,MAAM,CAACF,KAAK,CAAE,CAAAJ,QAAA,eAE/CnH,IAAA,WAAQuH,KAAK,CAAC,EAAE,CAAAJ,QAAA,CAAC,kBAAU,CAAQ,CAAC,cACpCnH,IAAA,WAAQuH,KAAK,CAAC,QAAQ,CAAAJ,QAAA,CAAC,OAAK,CAAQ,CAAC,cACrCnH,IAAA,WAAQuH,KAAK,CAAC,SAAS,CAAAJ,QAAA,CAAC,OAAK,CAAQ,CAAC,EAChC,CAAC,cAETrH,KAAA,WACEoH,SAAS,CAAC,uGAAuG,CACjHK,KAAK,CAAE3G,cAAe,CACtB4G,QAAQ,CAAGtC,CAAC,EAAKrE,iBAAiB,CAACqE,CAAC,CAACuC,MAAM,CAACF,KAAK,CAAE,CAAAJ,QAAA,eAEnDnH,IAAA,WAAQuH,KAAK,CAAC,EAAE,CAAAJ,QAAA,CAAC,oBAAe,CAAQ,CAAC,CACxCf,UAAU,CAACI,GAAG,CAACrF,QAAQ,eACtBnB,IAAA,WAAuBuH,KAAK,CAAEpG,QAAS,CAAAgG,QAAA,CAAEhG,QAAQ,EAApCA,QAA6C,CAC3D,CAAC,EACI,CAAC,EACN,CAAC,cAENrB,KAAA,WACE4H,OAAO,CAAE/B,eAAgB,CACzBuB,SAAS,CAAC,yGAAyG,CAAAC,QAAA,eAEnHnH,IAAA,CAACT,QAAQ,EAAC2H,SAAS,CAAC,SAAS,CAAE,CAAC,uBAElC,EAAQ,CAAC,EACN,CAAC,cAGNlH,IAAA,QAAKkH,SAAS,CAAC,4CAA4C,CAAAC,QAAA,CACxD9C,SAAS,cACRvE,KAAA,QAAKoH,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9BnH,IAAA,QAAKkH,SAAS,CAAC,sEAAsE,CAAM,CAAC,cAC5FlH,IAAA,MAAGkH,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAC,kBAAa,CAAG,CAAC,EAChD,CAAC,CACJvB,oBAAoB,CAACwB,MAAM,GAAK,CAAC,cACnCpH,IAAA,QAAKkH,SAAS,CAAC,iBAAiB,CAAAC,QAAA,cAC9BnH,IAAA,MAAGkH,SAAS,CAAC,eAAe,CAAAC,QAAA,CACzB3G,UAAU,EAAIE,UAAU,EAAIE,cAAc,CACvC,4CAA4C,CAC5C,yBAAyB,CAC5B,CAAC,CACD,CAAC,cAENZ,IAAA,QAAKkH,SAAS,CAAC,iBAAiB,CAAAC,QAAA,cAC9BrH,KAAA,UAAOoH,SAAS,CAAC,qCAAqC,CAAAC,QAAA,eACpDnH,IAAA,UAAOkH,SAAS,CAAC,YAAY,CAAAC,QAAA,cAC3BrH,KAAA,OAAAqH,QAAA,eACEnH,IAAA,OAAIkH,SAAS,CAAC,gFAAgF,CAAAC,QAAA,CAAC,QAE/F,CAAI,CAAC,cACLnH,IAAA,OAAIkH,SAAS,CAAC,gFAAgF,CAAAC,QAAA,CAAC,kBAE/F,CAAI,CAAC,cACLnH,IAAA,OAAIkH,SAAS,CAAC,gFAAgF,CAAAC,QAAA,CAAC,UAE/F,CAAI,CAAC,cACLnH,IAAA,OAAIkH,SAAS,CAAC,gFAAgF,CAAAC,QAAA,CAAC,OAE/F,CAAI,CAAC,cACLnH,IAAA,OAAIkH,SAAS,CAAC,gFAAgF,CAAAC,QAAA,CAAC,OAE/F,CAAI,CAAC,cACLnH,IAAA,OAAIkH,SAAS,CAAC,gFAAgF,CAAAC,QAAA,CAAC,UAE/F,CAAI,CAAC,cACLnH,IAAA,OAAIkH,SAAS,CAAC,iFAAiF,CAAAC,QAAA,CAAC,oBAEhG,CAAI,CAAC,EACH,CAAC,CACA,CAAC,cACRnH,IAAA,UAAOkH,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CACjDvB,oBAAoB,CAACY,GAAG,CAAEjB,WAAW,eACpCzF,KAAA,OAAyBoH,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eACnDnH,IAAA,OAAIkH,SAAS,CAAC,6BAA6B,CAAAC,QAAA,cACzCrH,KAAA,QAAKoH,SAAS,CAAC,mBAAmB,CAAAC,QAAA,EAC/B5B,WAAW,CAACvE,IAAI,GAAK,QAAQ,cAC5BhB,IAAA,CAACL,WAAW,EAACuH,SAAS,CAAC,6BAA6B,CAAE,CAAC,cAEvDlH,IAAA,CAACJ,aAAa,EAACsH,SAAS,CAAC,2BAA2B,CAAE,CACvD,cACDlH,IAAA,SAAMkH,SAAS,wBAAAvE,MAAA,CACb4C,WAAW,CAACvE,IAAI,GAAK,QAAQ,CAAG,gBAAgB,CAAG,cAAc,CAChE,CAAAmG,QAAA,CACA5B,WAAW,CAACvE,IAAI,GAAK,QAAQ,CAAG,OAAO,CAAG,OAAO,CAC9C,CAAC,EACJ,CAAC,CACJ,CAAC,cACLhB,IAAA,OAAIkH,SAAS,CAAC,6BAA6B,CAAAC,QAAA,cACzCrH,KAAA,QAAAqH,QAAA,eACEnH,IAAA,QAAKkH,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAAE5B,WAAW,CAACrE,WAAW,CAAM,CAAC,CACjFqE,WAAW,CAAC9D,KAAK,eAChBzB,IAAA,QAAKkH,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAE5B,WAAW,CAAC9D,KAAK,CAAM,CAChE,EACE,CAAC,CACJ,CAAC,cACLzB,IAAA,OAAIkH,SAAS,CAAC,mDAAmD,CAAAC,QAAA,CAC9D5B,WAAW,CAACpE,QAAQ,CACnB,CAAC,cACLnB,IAAA,OAAIkH,SAAS,CAAC,mDAAmD,CAAAC,QAAA,CAC9D,GAAI,CAAA9F,IAAI,CAACkE,WAAW,CAACnE,IAAI,CAAC,CAACuG,kBAAkB,CAAC,OAAO,CAAC,CACrD,CAAC,cACL3H,IAAA,OAAIkH,SAAS,CAAC,6BAA6B,CAAAC,QAAA,cACzCrH,KAAA,SAAMoH,SAAS,wBAAAvE,MAAA,CACb4C,WAAW,CAACvE,IAAI,GAAK,QAAQ,CAAG,gBAAgB,CAAG,cAAc,CAChE,CAAAmG,QAAA,EACA5B,WAAW,CAACvE,IAAI,GAAK,QAAQ,CAAG,GAAG,CAAG,GAAG,CAAC,QAAC,CAACuE,WAAW,CAACtE,MAAM,CAACoG,cAAc,CAAC,CAAC,EAC5E,CAAC,CACL,CAAC,cACLrH,IAAA,OAAIkH,SAAS,CAAC,mDAAmD,CAAAC,QAAA,CAC9D5B,WAAW,CAAC/D,SAAS,EAAI,GAAG,CAC3B,CAAC,cACLxB,IAAA,OAAIkH,SAAS,CAAC,4DAA4D,CAAAC,QAAA,cACxErH,KAAA,QAAKoH,SAAS,CAAC,wBAAwB,CAAAC,QAAA,eACrCnH,IAAA,WACE0H,OAAO,CAAEA,CAAA,GAAMpC,UAAU,CAACC,WAAW,CAAE,CACvC2B,SAAS,CAAC,uCAAuC,CACjDU,KAAK,CAAC,YAAS,CAAAT,QAAA,cAEfnH,IAAA,CAACR,UAAU,EAAC0H,SAAS,CAAC,SAAS,CAAE,CAAC,CAC5B,CAAC,cACTlH,IAAA,WACE0H,OAAO,CAAEA,CAAA,GAAMlC,YAAY,CAACD,WAAW,CAAE,CACzC2B,SAAS,CAAC,qCAAqC,CAC/CU,KAAK,CAAC,KAAK,CAAAT,QAAA,cAEXnH,IAAA,CAACP,SAAS,EAACyH,SAAS,CAAC,SAAS,CAAE,CAAC,CAC3B,CAAC,EACN,CAAC,CACJ,CAAC,GAxDE3B,WAAW,CAACvB,EAyDjB,CACL,CAAC,CACG,CAAC,EACH,CAAC,CACL,CACN,CACE,CAAC,CAGL5D,WAAW,eACVJ,IAAA,QAAKkH,SAAS,CAAC,gFAAgF,CAAAC,QAAA,cAC7FnH,IAAA,QAAKkH,SAAS,CAAC,kEAAkE,CAAAC,QAAA,cAC/ErH,KAAA,QAAKoH,SAAS,CAAC,KAAK,CAAAC,QAAA,eAClBnH,IAAA,OAAIkH,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CACvC7G,kBAAkB,CAAG,eAAe,CAAG,YAAY,CAClD,CAAC,cAELR,KAAA,SAAM+H,QAAQ,CAAE5C,YAAa,CAACiC,SAAS,CAAC,WAAW,CAAAC,QAAA,eACjDrH,KAAA,QAAAqH,QAAA,eACEnH,IAAA,UAAOkH,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,8BAEhE,CAAO,CAAC,cACRrH,KAAA,WACEgI,QAAQ,MACRZ,SAAS,CAAC,8GAA8G,CACxHK,KAAK,CAAEzG,QAAQ,CAACE,IAAK,CACrBwG,QAAQ,CAAGtC,CAAC,EAAKnE,WAAW,CAAAmB,aAAA,CAAAA,aAAA,IAAMpB,QAAQ,MAAEE,IAAI,CAAEkE,CAAC,CAACuC,MAAM,CAACF,KAA6B,EAAE,CAAE,CAAAJ,QAAA,eAE5FnH,IAAA,WAAQuH,KAAK,CAAC,QAAQ,CAAAJ,QAAA,CAAC,OAAK,CAAQ,CAAC,cACrCnH,IAAA,WAAQuH,KAAK,CAAC,SAAS,CAAAJ,QAAA,CAAC,OAAK,CAAQ,CAAC,EAChC,CAAC,EACN,CAAC,cAENrH,KAAA,QAAAqH,QAAA,eACEnH,IAAA,UAAOkH,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,oBAEhE,CAAO,CAAC,cACRnH,IAAA,UACEgB,IAAI,CAAC,MAAM,CACX8G,QAAQ,MACRZ,SAAS,CAAC,8GAA8G,CACxHK,KAAK,CAAEzG,QAAQ,CAACI,WAAY,CAC5BsG,QAAQ,CAAGtC,CAAC,EAAKnE,WAAW,CAAAmB,aAAA,CAAAA,aAAA,IAAMpB,QAAQ,MAAEI,WAAW,CAAEgE,CAAC,CAACuC,MAAM,CAACF,KAAK,EAAE,CAAE,CAC5E,CAAC,EACC,CAAC,cAENzH,KAAA,QAAAqH,QAAA,eACEnH,IAAA,UAAOkH,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,YAEhE,CAAO,CAAC,cACRrH,KAAA,WACEgI,QAAQ,MACRZ,SAAS,CAAC,8GAA8G,CACxHK,KAAK,CAAEzG,QAAQ,CAACK,QAAS,CACzBqG,QAAQ,CAAGtC,CAAC,EAAKnE,WAAW,CAAAmB,aAAA,CAAAA,aAAA,IAAMpB,QAAQ,MAAEK,QAAQ,CAAE+D,CAAC,CAACuC,MAAM,CAACF,KAAK,EAAE,CAAE,CAAAJ,QAAA,eAExEnH,IAAA,WAAQuH,KAAK,CAAC,EAAE,CAAAJ,QAAA,CAAC,mBAAc,CAAQ,CAAC,CACvC,CAACrG,QAAQ,CAACE,IAAI,GAAK,QAAQ,CAAGgG,gBAAgB,CAAGC,iBAAiB,EAAET,GAAG,CAACrF,QAAQ,eAC/EnB,IAAA,WAAuBuH,KAAK,CAAEpG,QAAS,CAAAgG,QAAA,CAAEhG,QAAQ,EAApCA,QAA6C,CAC3D,CAAC,EACI,CAAC,EACN,CAAC,cAENrB,KAAA,QAAKoH,SAAS,CAAC,wBAAwB,CAAAC,QAAA,eACrCrH,KAAA,QAAAqH,QAAA,eACEnH,IAAA,UAAOkH,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,kBAEhE,CAAO,CAAC,cACRnH,IAAA,UACEgB,IAAI,CAAC,QAAQ,CACb+G,GAAG,CAAC,MAAM,CACVC,IAAI,CAAC,MAAM,CACXF,QAAQ,MACRZ,SAAS,CAAC,8GAA8G,CACxHK,KAAK,CAAEzG,QAAQ,CAACG,MAAO,CACvBuG,QAAQ,CAAGtC,CAAC,EAAKnE,WAAW,CAAAmB,aAAA,CAAAA,aAAA,IAAMpB,QAAQ,MAAEG,MAAM,CAAEgH,UAAU,CAAC/C,CAAC,CAACuC,MAAM,CAACF,KAAK,CAAC,EAAI,CAAC,EAAE,CAAE,CACxF,CAAC,EACC,CAAC,cAENzH,KAAA,QAAAqH,QAAA,eACEnH,IAAA,UAAOkH,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,SAEhE,CAAO,CAAC,cACRnH,IAAA,UACEgB,IAAI,CAAC,MAAM,CACX8G,QAAQ,MACRZ,SAAS,CAAC,8GAA8G,CACxHK,KAAK,CAAEzG,QAAQ,CAACM,IAAK,CACrBoG,QAAQ,CAAGtC,CAAC,EAAKnE,WAAW,CAAAmB,aAAA,CAAAA,aAAA,IAAMpB,QAAQ,MAAEM,IAAI,CAAE8D,CAAC,CAACuC,MAAM,CAACF,KAAK,EAAE,CAAE,CACrE,CAAC,EACC,CAAC,EACH,CAAC,cAENzH,KAAA,QAAAqH,QAAA,eACEnH,IAAA,UAAOkH,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,UAEhE,CAAO,CAAC,cACRnH,IAAA,UACEgB,IAAI,CAAC,MAAM,CACXkG,SAAS,CAAC,8GAA8G,CACxHK,KAAK,CAAEzG,QAAQ,CAACU,SAAU,CAC1BgG,QAAQ,CAAGtC,CAAC,EAAKnE,WAAW,CAAAmB,aAAA,CAAAA,aAAA,IAAMpB,QAAQ,MAAEU,SAAS,CAAE0D,CAAC,CAACuC,MAAM,CAACF,KAAK,EAAE,CAAE,CACzED,WAAW,CAAC,2BAAwB,CACrC,CAAC,EACC,CAAC,cAENxH,KAAA,QAAAqH,QAAA,eACEnH,IAAA,UAAOkH,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,QAEhE,CAAO,CAAC,cACRnH,IAAA,aACEkI,IAAI,CAAE,CAAE,CACRhB,SAAS,CAAC,8GAA8G,CACxHK,KAAK,CAAEzG,QAAQ,CAACW,KAAM,CACtB+F,QAAQ,CAAGtC,CAAC,EAAKnE,WAAW,CAAAmB,aAAA,CAAAA,aAAA,IAAMpB,QAAQ,MAAEW,KAAK,CAAEyD,CAAC,CAACuC,MAAM,CAACF,KAAK,EAAE,CAAE,CACtE,CAAC,EACC,CAAC,cAENzH,KAAA,QAAKoH,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9BnH,IAAA,WACEgB,IAAI,CAAC,QAAQ,CACbmH,QAAQ,CAAE3D,cAAc,CAAC4D,SAAS,EAAIrD,cAAc,CAACqD,SAAU,CAC/DlB,SAAS,CAAC,wIAAwI,CAAAC,QAAA,CAEjJ3C,cAAc,CAAC4D,SAAS,EAAIrD,cAAc,CAACqD,SAAS,CAAG,iBAAiB,CAAG,QAAQ,CAC9E,CAAC,cACTpI,IAAA,WACEgB,IAAI,CAAC,QAAQ,CACb0G,OAAO,CAAEA,CAAA,GAAM,CACbrH,cAAc,CAAC,KAAK,CAAC,CACrBE,qBAAqB,CAAC,IAAI,CAAC,CAC3BsE,SAAS,CAAC,CAAC,CACb,CAAE,CACFqC,SAAS,CAAC,2FAA2F,CAAAC,QAAA,CACtG,YAED,CAAQ,CAAC,EACN,CAAC,EACF,CAAC,EACJ,CAAC,CACH,CAAC,CACH,CACN,EACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAAlH,gBAAgB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}