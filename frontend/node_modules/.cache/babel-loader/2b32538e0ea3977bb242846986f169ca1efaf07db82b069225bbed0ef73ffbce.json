{"ast":null,"code":"// src/suspense.ts\nvar defaultThrowOnError = (_error, query) => query.state.data === void 0;\nvar ensureSuspenseTimers = defaultedOptions => {\n  const originalStaleTime = defaultedOptions.staleTime;\n  if (defaultedOptions.suspense) {\n    defaultedOptions.staleTime = typeof originalStaleTime === \"function\" ? (...args) => Math.max(originalStaleTime(...args), 1e3) : Math.max(originalStaleTime ?? 1e3, 1e3);\n    if (typeof defaultedOptions.gcTime === \"number\") {\n      defaultedOptions.gcTime = Math.max(defaultedOptions.gcTime, 1e3);\n    }\n  }\n};\nvar willFetch = (result, isRestoring) => result.isLoading && result.isFetching && !isRestoring;\nvar shouldSuspend = (defaultedOptions, result) => defaultedOptions?.suspense && result.isPending;\nvar fetchOptimistic = (defaultedOptions, observer, errorResetBoundary) => observer.fetchOptimistic(defaultedOptions).catch(() => {\n  errorResetBoundary.clearReset();\n});\nexport { defaultThrowOnError, ensureSuspenseTimers, fetchOptimistic, shouldSuspend, willFetch };","map":{"version":3,"names":["defaultThrowOnError","_error","query","state","data","ensureSuspenseTimers","defaultedOptions","originalStaleTime","staleTime","suspense","args","Math","max","gcTime","willFetch","result","isRestoring","isLoading","isFetching","shouldSuspend","isPending","fetchOptimistic","observer","errorResetBoundary","catch","clearReset"],"sources":["/Users/serdarselcuk/Desktop/DevOps/Project/muhasebedemo/node_modules/@tanstack/react-query/src/suspense.ts"],"sourcesContent":["import type {\n  DefaultError,\n  DefaultedQueryObserverOptions,\n  Query,\n  QueryKey,\n  QueryObserver,\n  QueryObserverResult,\n} from '@tanstack/query-core'\nimport type { QueryErrorResetBoundaryValue } from './QueryErrorResetBoundary'\n\nexport const defaultThrowOnError = <\n  TQueryFnData = unknown,\n  TError = DefaultError,\n  TData = TQueryFnData,\n  TQueryKey extends QueryKey = QueryKey,\n>(\n  _error: TError,\n  query: Query<TQueryFnData, TError, TData, TQueryKey>,\n) => query.state.data === undefined\n\nexport const ensureSuspenseTimers = (\n  defaultedOptions: DefaultedQueryObserverOptions<any, any, any, any, any>,\n) => {\n  const originalStaleTime = defaultedOptions.staleTime\n\n  if (defaultedOptions.suspense) {\n    // Handle staleTime to ensure minimum 1000ms in Suspense mode\n    // This prevents unnecessary refetching when components remount after suspending\n    defaultedOptions.staleTime =\n      typeof originalStaleTime === 'function'\n        ? (...args) => Math.max(originalStaleTime(...args), 1000)\n        : Math.max(originalStaleTime ?? 1000, 1000)\n\n    if (typeof defaultedOptions.gcTime === 'number') {\n      defaultedOptions.gcTime = Math.max(defaultedOptions.gcTime, 1000)\n    }\n  }\n}\n\nexport const willFetch = (\n  result: QueryObserverResult<any, any>,\n  isRestoring: boolean,\n) => result.isLoading && result.isFetching && !isRestoring\n\nexport const shouldSuspend = (\n  defaultedOptions:\n    | DefaultedQueryObserverOptions<any, any, any, any, any>\n    | undefined,\n  result: QueryObserverResult<any, any>,\n) => defaultedOptions?.suspense && result.isPending\n\nexport const fetchOptimistic = <\n  TQueryFnData,\n  TError,\n  TData,\n  TQueryData,\n  TQueryKey extends QueryKey,\n>(\n  defaultedOptions: DefaultedQueryObserverOptions<\n    TQueryFnData,\n    TError,\n    TData,\n    TQueryData,\n    TQueryKey\n  >,\n  observer: QueryObserver<TQueryFnData, TError, TData, TQueryData, TQueryKey>,\n  errorResetBoundary: QueryErrorResetBoundaryValue,\n) =>\n  observer.fetchOptimistic(defaultedOptions).catch(() => {\n    errorResetBoundary.clearReset()\n  })\n"],"mappings":";AAUO,IAAMA,mBAAA,GAAsBA,CAMjCC,MAAA,EACAC,KAAA,KACGA,KAAA,CAAMC,KAAA,CAAMC,IAAA,KAAS;AAEnB,IAAMC,oBAAA,GACXC,gBAAA,IACG;EACH,MAAMC,iBAAA,GAAoBD,gBAAA,CAAiBE,SAAA;EAE3C,IAAIF,gBAAA,CAAiBG,QAAA,EAAU;IAG7BH,gBAAA,CAAiBE,SAAA,GACf,OAAOD,iBAAA,KAAsB,aACzB,IAAIG,IAAA,KAASC,IAAA,CAAKC,GAAA,CAAIL,iBAAA,CAAkB,GAAGG,IAAI,GAAG,GAAI,IACtDC,IAAA,CAAKC,GAAA,CAAIL,iBAAA,IAAqB,KAAM,GAAI;IAE9C,IAAI,OAAOD,gBAAA,CAAiBO,MAAA,KAAW,UAAU;MAC/CP,gBAAA,CAAiBO,MAAA,GAASF,IAAA,CAAKC,GAAA,CAAIN,gBAAA,CAAiBO,MAAA,EAAQ,GAAI;IAClE;EACF;AACF;AAEO,IAAMC,SAAA,GAAYA,CACvBC,MAAA,EACAC,WAAA,KACGD,MAAA,CAAOE,SAAA,IAAaF,MAAA,CAAOG,UAAA,IAAc,CAACF,WAAA;AAExC,IAAMG,aAAA,GAAgBA,CAC3Bb,gBAAA,EAGAS,MAAA,KACGT,gBAAA,EAAkBG,QAAA,IAAYM,MAAA,CAAOK,SAAA;AAEnC,IAAMC,eAAA,GAAkBA,CAO7Bf,gBAAA,EAOAgB,QAAA,EACAC,kBAAA,KAEAD,QAAA,CAASD,eAAA,CAAgBf,gBAAgB,EAAEkB,KAAA,CAAM,MAAM;EACrDD,kBAAA,CAAmBE,UAAA,CAAW;AAChC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}