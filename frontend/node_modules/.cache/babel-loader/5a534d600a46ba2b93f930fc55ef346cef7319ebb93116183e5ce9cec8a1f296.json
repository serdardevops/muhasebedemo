{"ast":null,"code":"import React,{useState}from'react';import{useQuery,useMutation,useQueryClient}from'@tanstack/react-query';import toast from'react-hot-toast';import{PlusIcon,PencilIcon,TrashIcon,MagnifyingGlassIcon,EyeIcon,DocumentArrowDownIcon}from'@heroicons/react/24/outline';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const InvoicesPage=()=>{const[searchTerm,setSearchTerm]=useState('');const[statusFilter,setStatusFilter]=useState('');const[selectedInvoice,setSelectedInvoice]=useState(null);const[isViewModalOpen,setIsViewModalOpen]=useState(false);const queryClient=useQueryClient();// API functions\nconst fetchInvoices=async()=>{const token=localStorage.getItem('token');const response=await fetch('http://localhost:3001/api/invoices',{headers:{'Authorization':\"Bearer \".concat(token),'Content-Type':'application/json'}});if(!response.ok){throw new Error('Faturalar yüklenirken hata oluştu');}const data=await response.json();return data.data;};const updateInvoiceStatus=async _ref=>{let{id,status}=_ref;const token=localStorage.getItem('token');const response=await fetch(\"http://localhost:3001/api/invoices/\".concat(id,\"/status\"),{method:'PUT',headers:{'Authorization':\"Bearer \".concat(token),'Content-Type':'application/json'},body:JSON.stringify({status})});if(!response.ok){const errorData=await response.json();throw new Error(errorData.message||'Fatura durumu güncellenirken hata oluştu');}const data=await response.json();return data.data;};const deleteInvoice=async id=>{const token=localStorage.getItem('token');const response=await fetch(\"http://localhost:3001/api/invoices/\".concat(id),{method:'DELETE',headers:{'Authorization':\"Bearer \".concat(token),'Content-Type':'application/json'}});if(!response.ok){const errorData=await response.json();throw new Error(errorData.message||'Fatura silinirken hata oluştu');}};// React Query hooks\nconst{data:invoices=[],isLoading,error}=useQuery({queryKey:['invoices'],queryFn:fetchInvoices});const updateStatusMutation=useMutation({mutationFn:updateInvoiceStatus,onSuccess:()=>{queryClient.invalidateQueries({queryKey:['invoices']});toast.success('Fatura durumu güncellendi');},onError:error=>{toast.error(error.message);}});const deleteMutation=useMutation({mutationFn:deleteInvoice,onSuccess:()=>{queryClient.invalidateQueries({queryKey:['invoices']});toast.success('Fatura başarıyla silindi');},onError:error=>{toast.error(error.message);}});// Handlers\nconst handleStatusChange=(invoice,newStatus)=>{updateStatusMutation.mutate({id:invoice.id,status:newStatus});};const handleDelete=invoice=>{if(window.confirm(\"\\\"\".concat(invoice.invoiceNo,\"\\\" faturas\\u0131n\\u0131 silmek istedi\\u011Finizden emin misiniz?\"))){deleteMutation.mutate(invoice.id);}};const handleView=invoice=>{setSelectedInvoice(invoice);setIsViewModalOpen(true);};// Filter invoices\nconst filteredInvoices=invoices.filter(invoice=>{const matchesSearch=invoice.invoiceNo.toLowerCase().includes(searchTerm.toLowerCase())||invoice.customer.name.toLowerCase().includes(searchTerm.toLowerCase());const matchesStatus=!statusFilter||invoice.status===statusFilter;return matchesSearch&&matchesStatus;});// Status colors\nconst getStatusColor=status=>{switch(status){case'DRAFT':return'bg-gray-100 text-gray-800';case'SENT':return'bg-blue-100 text-blue-800';case'PAID':return'bg-green-100 text-green-800';case'OVERDUE':return'bg-red-100 text-red-800';case'CANCELLED':return'bg-red-100 text-red-800';default:return'bg-gray-100 text-gray-800';}};const getStatusText=status=>{switch(status){case'DRAFT':return'Taslak';case'SENT':return'Gönderildi';case'PAID':return'Ödendi';case'OVERDUE':return'Vadesi Geçti';case'CANCELLED':return'İptal Edildi';default:return status;}};// Stats\nconst totalAmount=invoices.reduce((sum,inv)=>sum+inv.total,0);const paidAmount=invoices.filter(inv=>inv.status==='PAID').reduce((sum,inv)=>sum+inv.total,0);const pendingAmount=invoices.filter(inv=>['SENT','OVERDUE'].includes(inv.status)).reduce((sum,inv)=>sum+inv.total,0);if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-50 border border-red-200 rounded-md p-4\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-red-800\",children:[\"Hata: \",error.message]})})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-900\",children:\"Faturalar\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Fatura bilgilerini y\\xF6netin\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-4 rounded-lg shadow\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-500\",children:\"Toplam Fatura\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-gray-900\",children:invoices.length})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-4 rounded-lg shadow\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-500\",children:\"Toplam Tutar\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-2xl font-bold text-blue-600\",children:[\"\\u20BA\",totalAmount.toLocaleString()]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-4 rounded-lg shadow\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-500\",children:\"\\xD6denen\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-2xl font-bold text-green-600\",children:[\"\\u20BA\",paidAmount.toLocaleString()]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-4 rounded-lg shadow\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-500\",children:\"Bekleyen\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-2xl font-bold text-orange-600\",children:[\"\\u20BA\",pendingAmount.toLocaleString()]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6 flex flex-col sm:flex-row gap-4 justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(MagnifyingGlassIcon,{className:\"h-5 w-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Fatura ara...\",className:\"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value)})]}),/*#__PURE__*/_jsxs(\"select\",{className:\"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",value:statusFilter,onChange:e=>setStatusFilter(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"T\\xFCm Durumlar\"}),/*#__PURE__*/_jsx(\"option\",{value:\"DRAFT\",children:\"Taslak\"}),/*#__PURE__*/_jsx(\"option\",{value:\"SENT\",children:\"G\\xF6nderildi\"}),/*#__PURE__*/_jsx(\"option\",{value:\"PAID\",children:\"\\xD6dendi\"}),/*#__PURE__*/_jsx(\"option\",{value:\"OVERDUE\",children:\"Vadesi Ge\\xE7ti\"}),/*#__PURE__*/_jsx(\"option\",{value:\"CANCELLED\",children:\"\\u0130ptal Edildi\"})]})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>toast('Yeni fatura oluşturma özelliği yakında eklenecek'),className:\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors\",children:[/*#__PURE__*/_jsx(PlusIcon,{className:\"h-5 w-5\"}),\"Yeni Fatura\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow overflow-hidden\",children:isLoading?/*#__PURE__*/_jsxs(\"div\",{className:\"p-8 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-gray-600\",children:\"Y\\xFCkleniyor...\"})]}):filteredInvoices.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"p-8 text-center\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:searchTerm||statusFilter?'Arama kriterlerine uygun fatura bulunamadı.':'Henüz fatura eklenmemiş.'})}):/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Fatura No\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"M\\xFC\\u015Fteri\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Tarih\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Vade\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Tutar\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Durum\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"\\u0130\\u015Flemler\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-200\",children:filteredInvoices.map(invoice=>/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-900\",children:invoice.invoiceNo})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-900\",children:invoice.customer.name}),invoice.customer.email&&/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500\",children:invoice.customer.email})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",children:new Date(invoice.date).toLocaleDateString('tr-TR')}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",children:new Date(invoice.dueDate).toLocaleDateString('tr-TR')}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm font-medium text-gray-900\",children:[\"\\u20BA\",invoice.total.toLocaleString()]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-500\",children:[\"KDV: \\u20BA\",invoice.taxAmount.toLocaleString()]})]}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsxs(\"select\",{value:invoice.status,onChange:e=>handleStatusChange(invoice,e.target.value),className:\"text-xs font-semibold rounded-full px-2 py-1 border-0 \".concat(getStatusColor(invoice.status)),disabled:updateStatusMutation.isPending,children:[/*#__PURE__*/_jsx(\"option\",{value:\"DRAFT\",children:\"Taslak\"}),/*#__PURE__*/_jsx(\"option\",{value:\"SENT\",children:\"G\\xF6nderildi\"}),/*#__PURE__*/_jsx(\"option\",{value:\"PAID\",children:\"\\xD6dendi\"}),/*#__PURE__*/_jsx(\"option\",{value:\"OVERDUE\",children:\"Vadesi Ge\\xE7ti\"}),/*#__PURE__*/_jsx(\"option\",{value:\"CANCELLED\",children:\"\\u0130ptal Edildi\"})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleView(invoice),className:\"text-blue-600 hover:text-blue-900 p-1\",title:\"G\\xF6r\\xFCnt\\xFCle\",children:/*#__PURE__*/_jsx(EyeIcon,{className:\"h-4 w-4\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>toast('PDF indirme özelliği yakında eklenecek'),className:\"text-green-600 hover:text-green-900 p-1\",title:\"PDF \\u0130ndir\",children:/*#__PURE__*/_jsx(DocumentArrowDownIcon,{className:\"h-4 w-4\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>toast('Düzenleme özelliği yakında eklenecek'),className:\"text-blue-600 hover:text-blue-900 p-1\",title:\"D\\xFCzenle\",children:/*#__PURE__*/_jsx(PencilIcon,{className:\"h-4 w-4\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete(invoice),className:\"text-red-600 hover:text-red-900 p-1\",title:\"Sil\",children:/*#__PURE__*/_jsx(TrashIcon,{className:\"h-4 w-4\"})})]})})]},invoice.id))})]})})}),isViewModalOpen&&selectedInvoice&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold\",children:\"Fatura Detay\\u0131\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsViewModalOpen(false),className:\"text-gray-400 hover:text-gray-600\",children:\"\\u2715\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Fatura No\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-900\",children:selectedInvoice.invoiceNo})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Durum\"}),/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex px-2 py-1 text-xs font-semibold rounded-full \".concat(getStatusColor(selectedInvoice.status)),children:getStatusText(selectedInvoice.status)})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"M\\xFC\\u015Fteri\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-900\",children:selectedInvoice.customer.name}),selectedInvoice.customer.email&&/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:selectedInvoice.customer.email})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Tarihler\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-900\",children:[\"D\\xFCzenleme: \",new Date(selectedInvoice.date).toLocaleDateString('tr-TR')]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-900\",children:[\"Vade: \",new Date(selectedInvoice.dueDate).toLocaleDateString('tr-TR')]})]})]}),selectedInvoice.notes&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Notlar\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-900\",children:selectedInvoice.notes})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Fatura Kalemleri\"}),/*#__PURE__*/_jsx(\"div\",{className:\"border rounded-lg overflow-hidden\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2 text-left text-xs font-medium text-gray-500\",children:\"\\xDCr\\xFCn\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2 text-left text-xs font-medium text-gray-500\",children:\"Miktar\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2 text-left text-xs font-medium text-gray-500\",children:\"Birim Fiyat\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2 text-left text-xs font-medium text-gray-500\",children:\"Toplam\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"divide-y divide-gray-200\",children:selectedInvoice.items.map(item=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{className:\"px-4 py-2 text-sm text-gray-900\",children:[item.product.name,item.product.barcode&&/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500\",children:item.product.barcode})]}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-2 text-sm text-gray-900\",children:item.quantity}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-4 py-2 text-sm text-gray-900\",children:[\"\\u20BA\",item.price.toLocaleString()]}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-4 py-2 text-sm text-gray-900\",children:[\"\\u20BA\",item.total.toLocaleString()]})]},item.id))})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"border-t pt-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-sm\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Ara Toplam:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u20BA\",selectedInvoice.subtotal.toLocaleString()]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-sm\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"KDV:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u20BA\",selectedInvoice.taxAmount.toLocaleString()]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-lg font-semibold border-t pt-2\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Toplam:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u20BA\",selectedInvoice.total.toLocaleString()]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3 pt-6\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>toast('PDF indirme özelliği yakında eklenecek'),className:\"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg transition-colors\",children:\"PDF \\u0130ndir\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsViewModalOpen(false),className:\"flex-1 bg-gray-300 hover:bg-gray-400 text-gray-700 py-2 px-4 rounded-lg transition-colors\",children:\"Kapat\"})]})]})})})]});};export default InvoicesPage;","map":{"version":3,"names":["React","useState","useQuery","useMutation","useQueryClient","toast","PlusIcon","PencilIcon","TrashIcon","MagnifyingGlassIcon","EyeIcon","DocumentArrowDownIcon","jsxs","_jsxs","jsx","_jsx","InvoicesPage","searchTerm","setSearchTerm","statusFilter","setStatusFilter","selectedInvoice","setSelectedInvoice","isViewModalOpen","setIsViewModalOpen","queryClient","fetchInvoices","token","localStorage","getItem","response","fetch","headers","concat","ok","Error","data","json","updateInvoiceStatus","_ref","id","status","method","body","JSON","stringify","errorData","message","deleteInvoice","invoices","isLoading","error","queryKey","queryFn","updateStatusMutation","mutationFn","onSuccess","invalidateQueries","success","onError","deleteMutation","handleStatusChange","invoice","newStatus","mutate","handleDelete","window","confirm","invoiceNo","handleView","filteredInvoices","filter","matchesSearch","toLowerCase","includes","customer","name","matchesStatus","getStatusColor","getStatusText","totalAmount","reduce","sum","inv","total","paidAmount","pendingAmount","className","children","length","toLocaleString","type","placeholder","value","onChange","e","target","onClick","map","email","Date","date","toLocaleDateString","dueDate","taxAmount","disabled","isPending","title","notes","items","item","product","barcode","quantity","price","subtotal"],"sources":["/Users/serdarselcuk/Desktop/DevOps/Project/muhasebedemo/frontend/src/pages/InvoicesPage.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\nimport toast from 'react-hot-toast';\nimport { PlusIcon, PencilIcon, TrashIcon, MagnifyingGlassIcon, EyeIcon, DocumentArrowDownIcon } from '@heroicons/react/24/outline';\n\ninterface Invoice {\n  id: string;\n  invoiceNo: string; // Backend uses 'invoiceNo' not 'invoiceNumber'\n  customerId: string;\n  customer: {\n    id: string;\n    name: string;\n    email?: string;\n  };\n  date: string; // Backend uses 'date' not 'issueDate'\n  dueDate: string;\n  status: 'DRAFT' | 'SENT' | 'PAID' | 'OVERDUE' | 'CANCELLED';\n  subtotal: number;\n  taxAmount: number;\n  total: number;\n  notes?: string;\n  items: InvoiceItem[];\n  createdAt: string;\n  updatedAt: string;\n}\n\ninterface InvoiceItem {\n  id: string;\n  productId: string;\n  product: {\n    id: string;\n    name: string;\n    barcode?: string;\n  };\n  quantity: number;\n  price: number; // Backend uses 'price' not 'unitPrice'\n  total: number;\n}\n\nconst InvoicesPage: React.FC = () => {\n  const [searchTerm, setSearchTerm] = useState('');\n  const [statusFilter, setStatusFilter] = useState('');\n  const [selectedInvoice, setSelectedInvoice] = useState<Invoice | null>(null);\n  const [isViewModalOpen, setIsViewModalOpen] = useState(false);\n\n  const queryClient = useQueryClient();\n\n  // API functions\n  const fetchInvoices = async (): Promise<Invoice[]> => {\n    const token = localStorage.getItem('token');\n    const response = await fetch('http://localhost:3001/api/invoices', {\n      headers: {\n        'Authorization': `Bearer ${token}`,\n        'Content-Type': 'application/json',\n      },\n    });\n    \n    if (!response.ok) {\n      throw new Error('Faturalar yüklenirken hata oluştu');\n    }\n    \n    const data = await response.json();\n    return data.data;\n  };\n\n\n\n  const updateInvoiceStatus = async ({ id, status }: { id: string; status: string }): Promise<Invoice> => {\n    const token = localStorage.getItem('token');\n    const response = await fetch(`http://localhost:3001/api/invoices/${id}/status`, {\n      method: 'PUT',\n      headers: {\n        'Authorization': `Bearer ${token}`,\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({ status }),\n    });\n    \n    if (!response.ok) {\n      const errorData = await response.json();\n      throw new Error(errorData.message || 'Fatura durumu güncellenirken hata oluştu');\n    }\n    \n    const data = await response.json();\n    return data.data;\n  };\n\n  const deleteInvoice = async (id: string): Promise<void> => {\n    const token = localStorage.getItem('token');\n    const response = await fetch(`http://localhost:3001/api/invoices/${id}`, {\n      method: 'DELETE',\n      headers: {\n        'Authorization': `Bearer ${token}`,\n        'Content-Type': 'application/json',\n      },\n    });\n    \n    if (!response.ok) {\n      const errorData = await response.json();\n      throw new Error(errorData.message || 'Fatura silinirken hata oluştu');\n    }\n  };\n\n  // React Query hooks\n  const { data: invoices = [], isLoading, error } = useQuery({\n    queryKey: ['invoices'],\n    queryFn: fetchInvoices,\n  });\n\n  const updateStatusMutation = useMutation({\n    mutationFn: updateInvoiceStatus,\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['invoices'] });\n      toast.success('Fatura durumu güncellendi');\n    },\n    onError: (error: Error) => {\n      toast.error(error.message);\n    },\n  });\n\n  const deleteMutation = useMutation({\n    mutationFn: deleteInvoice,\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['invoices'] });\n      toast.success('Fatura başarıyla silindi');\n    },\n    onError: (error: Error) => {\n      toast.error(error.message);\n    },\n  });\n\n  // Handlers\n  const handleStatusChange = (invoice: Invoice, newStatus: string) => {\n    updateStatusMutation.mutate({ id: invoice.id, status: newStatus });\n  };\n\n  const handleDelete = (invoice: Invoice) => {\n    if (window.confirm(`\"${invoice.invoiceNo}\" faturasını silmek istediğinizden emin misiniz?`)) {\n      deleteMutation.mutate(invoice.id);\n    }\n  };\n\n  const handleView = (invoice: Invoice) => {\n    setSelectedInvoice(invoice);\n    setIsViewModalOpen(true);\n  };\n\n  // Filter invoices\n  const filteredInvoices = invoices.filter(invoice => {\n    const matchesSearch = invoice.invoiceNo.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                         invoice.customer.name.toLowerCase().includes(searchTerm.toLowerCase());\n    \n    const matchesStatus = !statusFilter || invoice.status === statusFilter;\n    \n    return matchesSearch && matchesStatus;\n  });\n\n  // Status colors\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case 'DRAFT': return 'bg-gray-100 text-gray-800';\n      case 'SENT': return 'bg-blue-100 text-blue-800';\n      case 'PAID': return 'bg-green-100 text-green-800';\n      case 'OVERDUE': return 'bg-red-100 text-red-800';\n      case 'CANCELLED': return 'bg-red-100 text-red-800';\n      default: return 'bg-gray-100 text-gray-800';\n    }\n  };\n\n  const getStatusText = (status: string) => {\n    switch (status) {\n      case 'DRAFT': return 'Taslak';\n      case 'SENT': return 'Gönderildi';\n      case 'PAID': return 'Ödendi';\n      case 'OVERDUE': return 'Vadesi Geçti';\n      case 'CANCELLED': return 'İptal Edildi';\n      default: return status;\n    }\n  };\n\n  // Stats\n  const totalAmount = invoices.reduce((sum, inv) => sum + inv.total, 0);\n  const paidAmount = invoices.filter(inv => inv.status === 'PAID').reduce((sum, inv) => sum + inv.total, 0);\n  const pendingAmount = invoices.filter(inv => ['SENT', 'OVERDUE'].includes(inv.status)).reduce((sum, inv) => sum + inv.total, 0);\n\n  if (error) {\n    return (\n      <div className=\"p-6\">\n        <div className=\"bg-red-50 border border-red-200 rounded-md p-4\">\n          <p className=\"text-red-800\">Hata: {(error as Error).message}</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"p-6\">\n      {/* Header */}\n      <div className=\"mb-6\">\n        <h1 className=\"text-2xl font-bold text-gray-900\">Faturalar</h1>\n        <p className=\"text-gray-600\">Fatura bilgilerini yönetin</p>\n      </div>\n\n      {/* Stats */}\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6\">\n        <div className=\"bg-white p-4 rounded-lg shadow\">\n          <div className=\"text-sm font-medium text-gray-500\">Toplam Fatura</div>\n          <div className=\"text-2xl font-bold text-gray-900\">{invoices.length}</div>\n        </div>\n        <div className=\"bg-white p-4 rounded-lg shadow\">\n          <div className=\"text-sm font-medium text-gray-500\">Toplam Tutar</div>\n          <div className=\"text-2xl font-bold text-blue-600\">₺{totalAmount.toLocaleString()}</div>\n        </div>\n        <div className=\"bg-white p-4 rounded-lg shadow\">\n          <div className=\"text-sm font-medium text-gray-500\">Ödenen</div>\n          <div className=\"text-2xl font-bold text-green-600\">₺{paidAmount.toLocaleString()}</div>\n        </div>\n        <div className=\"bg-white p-4 rounded-lg shadow\">\n          <div className=\"text-sm font-medium text-gray-500\">Bekleyen</div>\n          <div className=\"text-2xl font-bold text-orange-600\">₺{pendingAmount.toLocaleString()}</div>\n        </div>\n      </div>\n\n      {/* Actions Bar */}\n      <div className=\"mb-6 flex flex-col sm:flex-row gap-4 justify-between\">\n        <div className=\"flex flex-col sm:flex-row gap-4\">\n          <div className=\"relative\">\n            <MagnifyingGlassIcon className=\"h-5 w-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\" />\n            <input\n              type=\"text\"\n              placeholder=\"Fatura ara...\"\n              className=\"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n            />\n          </div>\n          \n          <select\n            className=\"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n            value={statusFilter}\n            onChange={(e) => setStatusFilter(e.target.value)}\n          >\n            <option value=\"\">Tüm Durumlar</option>\n            <option value=\"DRAFT\">Taslak</option>\n            <option value=\"SENT\">Gönderildi</option>\n            <option value=\"PAID\">Ödendi</option>\n            <option value=\"OVERDUE\">Vadesi Geçti</option>\n            <option value=\"CANCELLED\">İptal Edildi</option>\n          </select>\n        </div>\n\n        <button\n          onClick={() => toast('Yeni fatura oluşturma özelliği yakında eklenecek')}\n          className=\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors\"\n        >\n          <PlusIcon className=\"h-5 w-5\" />\n          Yeni Fatura\n        </button>\n      </div>\n\n      {/* Invoices Table */}\n      <div className=\"bg-white rounded-lg shadow overflow-hidden\">\n        {isLoading ? (\n          <div className=\"p-8 text-center\">\n            <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto\"></div>\n            <p className=\"mt-2 text-gray-600\">Yükleniyor...</p>\n          </div>\n        ) : filteredInvoices.length === 0 ? (\n          <div className=\"p-8 text-center\">\n            <p className=\"text-gray-500\">\n              {searchTerm || statusFilter \n                ? 'Arama kriterlerine uygun fatura bulunamadı.' \n                : 'Henüz fatura eklenmemiş.'}\n            </p>\n          </div>\n        ) : (\n          <div className=\"overflow-x-auto\">\n            <table className=\"min-w-full divide-y divide-gray-200\">\n              <thead className=\"bg-gray-50\">\n                <tr>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Fatura No\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Müşteri\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Tarih\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Vade\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Tutar\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Durum\n                  </th>\n                  <th className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    İşlemler\n                  </th>\n                </tr>\n              </thead>\n              <tbody className=\"bg-white divide-y divide-gray-200\">\n                {filteredInvoices.map((invoice) => (\n                  <tr key={invoice.id} className=\"hover:bg-gray-50\">\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <div className=\"text-sm font-medium text-gray-900\">{invoice.invoiceNo}</div>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <div>\n                        <div className=\"text-sm font-medium text-gray-900\">{invoice.customer.name}</div>\n                        {invoice.customer.email && (\n                          <div className=\"text-sm text-gray-500\">{invoice.customer.email}</div>\n                        )}\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                      {new Date(invoice.date).toLocaleDateString('tr-TR')}\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                      {new Date(invoice.dueDate).toLocaleDateString('tr-TR')}\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <div className=\"text-sm font-medium text-gray-900\">₺{invoice.total.toLocaleString()}</div>\n                      <div className=\"text-xs text-gray-500\">KDV: ₺{invoice.taxAmount.toLocaleString()}</div>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <select\n                        value={invoice.status}\n                        onChange={(e) => handleStatusChange(invoice, e.target.value)}\n                        className={`text-xs font-semibold rounded-full px-2 py-1 border-0 ${getStatusColor(invoice.status)}`}\n                        disabled={updateStatusMutation.isPending}\n                      >\n                        <option value=\"DRAFT\">Taslak</option>\n                        <option value=\"SENT\">Gönderildi</option>\n                        <option value=\"PAID\">Ödendi</option>\n                        <option value=\"OVERDUE\">Vadesi Geçti</option>\n                        <option value=\"CANCELLED\">İptal Edildi</option>\n                      </select>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\">\n                      <div className=\"flex justify-end gap-2\">\n                        <button\n                          onClick={() => handleView(invoice)}\n                          className=\"text-blue-600 hover:text-blue-900 p-1\"\n                          title=\"Görüntüle\"\n                        >\n                          <EyeIcon className=\"h-4 w-4\" />\n                        </button>\n                        <button\n                          onClick={() => toast('PDF indirme özelliği yakında eklenecek')}\n                          className=\"text-green-600 hover:text-green-900 p-1\"\n                          title=\"PDF İndir\"\n                        >\n                          <DocumentArrowDownIcon className=\"h-4 w-4\" />\n                        </button>\n                        <button\n                          onClick={() => toast('Düzenleme özelliği yakında eklenecek')}\n                          className=\"text-blue-600 hover:text-blue-900 p-1\"\n                          title=\"Düzenle\"\n                        >\n                          <PencilIcon className=\"h-4 w-4\" />\n                        </button>\n                        <button\n                          onClick={() => handleDelete(invoice)}\n                          className=\"text-red-600 hover:text-red-900 p-1\"\n                          title=\"Sil\"\n                        >\n                          <TrashIcon className=\"h-4 w-4\" />\n                        </button>\n                      </div>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        )}\n      </div>\n\n      {/* View Modal */}\n      {isViewModalOpen && selectedInvoice && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\n          <div className=\"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto\">\n            <div className=\"p-6\">\n              <div className=\"flex justify-between items-center mb-6\">\n                <h2 className=\"text-lg font-semibold\">Fatura Detayı</h2>\n                <button\n                  onClick={() => setIsViewModalOpen(false)}\n                  className=\"text-gray-400 hover:text-gray-600\"\n                >\n                  ✕\n                </button>\n              </div>\n              \n              <div className=\"space-y-4\">\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700\">Fatura No</label>\n                    <p className=\"text-sm text-gray-900\">{selectedInvoice.invoiceNo}</p>\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700\">Durum</label>\n                    <span className={`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${getStatusColor(selectedInvoice.status)}`}>\n                      {getStatusText(selectedInvoice.status)}\n                    </span>\n                  </div>\n                </div>\n\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700\">Müşteri</label>\n                    <p className=\"text-sm text-gray-900\">{selectedInvoice.customer.name}</p>\n                    {selectedInvoice.customer.email && (\n                      <p className=\"text-sm text-gray-500\">{selectedInvoice.customer.email}</p>\n                    )}\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700\">Tarihler</label>\n                    <p className=\"text-sm text-gray-900\">\n                      Düzenleme: {new Date(selectedInvoice.date).toLocaleDateString('tr-TR')}\n                    </p>\n                    <p className=\"text-sm text-gray-900\">\n                      Vade: {new Date(selectedInvoice.dueDate).toLocaleDateString('tr-TR')}\n                    </p>\n                  </div>\n                </div>\n\n                {selectedInvoice.notes && (\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700\">Notlar</label>\n                    <p className=\"text-sm text-gray-900\">{selectedInvoice.notes}</p>\n                  </div>\n                )}\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">Fatura Kalemleri</label>\n                  <div className=\"border rounded-lg overflow-hidden\">\n                    <table className=\"min-w-full divide-y divide-gray-200\">\n                      <thead className=\"bg-gray-50\">\n                        <tr>\n                          <th className=\"px-4 py-2 text-left text-xs font-medium text-gray-500\">Ürün</th>\n                          <th className=\"px-4 py-2 text-left text-xs font-medium text-gray-500\">Miktar</th>\n                          <th className=\"px-4 py-2 text-left text-xs font-medium text-gray-500\">Birim Fiyat</th>\n                          <th className=\"px-4 py-2 text-left text-xs font-medium text-gray-500\">Toplam</th>\n                        </tr>\n                      </thead>\n                      <tbody className=\"divide-y divide-gray-200\">\n                        {selectedInvoice.items.map((item) => (\n                          <tr key={item.id}>\n                            <td className=\"px-4 py-2 text-sm text-gray-900\">\n                              {item.product.name}\n                              {item.product.barcode && (\n                                <div className=\"text-xs text-gray-500\">{item.product.barcode}</div>\n                              )}\n                            </td>\n                            <td className=\"px-4 py-2 text-sm text-gray-900\">{item.quantity}</td>\n                            <td className=\"px-4 py-2 text-sm text-gray-900\">₺{item.price.toLocaleString()}</td>\n                            <td className=\"px-4 py-2 text-sm text-gray-900\">₺{item.total.toLocaleString()}</td>\n                          </tr>\n                        ))}\n                      </tbody>\n                    </table>\n                  </div>\n                </div>\n\n                <div className=\"border-t pt-4\">\n                  <div className=\"flex justify-between text-sm\">\n                    <span>Ara Toplam:</span>\n                    <span>₺{selectedInvoice.subtotal.toLocaleString()}</span>\n                  </div>\n                  <div className=\"flex justify-between text-sm\">\n                    <span>KDV:</span>\n                    <span>₺{selectedInvoice.taxAmount.toLocaleString()}</span>\n                  </div>\n                  <div className=\"flex justify-between text-lg font-semibold border-t pt-2\">\n                    <span>Toplam:</span>\n                    <span>₺{selectedInvoice.total.toLocaleString()}</span>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"flex gap-3 pt-6\">\n                <button\n                                     onClick={() => toast('PDF indirme özelliği yakında eklenecek')}\n                  className=\"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg transition-colors\"\n                >\n                  PDF İndir\n                </button>\n                <button\n                  onClick={() => setIsViewModalOpen(false)}\n                  className=\"flex-1 bg-gray-300 hover:bg-gray-400 text-gray-700 py-2 px-4 rounded-lg transition-colors\"\n                >\n                  Kapat\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default InvoicesPage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}